(function(){var A={$:function(f){return document.getElementById(f)},hd:function(f){f.style.display="none"},sh:function(f){f.style.display="block"}};var p=A.$("footYYShow"),C=A.$("footYyX"),k=A.$("footYYOff"),F=A.$("footYYClose");p.onclick=function(){A.sh(C);return false};k.onclick=function(){A.hd(C);return false};F.onclick=function(){A.hd(C);return false};var m=A.$("page");A.$("backToTop").onclick=function(){document.documentElement.scrollTop=0;document.body.scrollTop=0;return false};var D=A.$("content").getElementsByTagName("img"),g=D.length;var a=[];for(var i=0;i<g;i++){if(!D[i].src){a.push({src:D[i].getAttribute("data-src"),obj:D[i]})}}if(m){var x=function(){for(var j=0;j<a.length;j++){if(a[j].src){var f=a[j].obj.getBoundingClientRect();if(f.top>(f.top-f.bottom)&&f.top<(window.innerHeight||(screen.availHeight-40))){a[j].obj.src=a[j].src;a[j].src=""}}}};m.onscroll=function(){x()};document.onscroll=function(){x()};x()}var E=A.$("content").getElementsByTagName("div"),r=E.length,n,e;for(var y=0;y<r;y+=1){if(!n&&(E[y].className==="similarity"||E[y].className==="wp_share_box")){n=E[y]}}if(n&&(!window.screen||screen.width>640)){e=document.createElement("div");e.className="alipay_support";e.innerHTML='<strong>如果您觉得本文的内容对您的学习有所帮助，您可以支付宝(左)或微信(右)：</strong><div class="alipay_img"><img src="http://www.zhangxinxu.com/alipay.png"> <img src="http://www.zhangxinxu.com/wxpay.png"></div>';n.parentNode.insertBefore(e,n)}var h=A.$("shinkSlide"),q=A.$("page"),d=window.localStorage;if(h&&q){h.style.display="inline";h.onclick=function(){var f=q.className,j=this.title;if(/slide_hide/.test(f)){q.className=(" "+f+" ").replace(/\s+slide_hide\s+/,"");this.title=j.replace("展开","收起");this.innerHTML="►";if(d){localStorage.removeItem("isSlideHide")}}else{q.className=f+" slide_hide";this.title=j.replace("收起","展开");this.innerHTML="◄";if(d){localStorage.setItem("isSlideHide","true")}}this.blur();return false}}if(window.addEventListener){var z=document.querySelector(".top_ad_out"),B=A.$("sidebar");if(z&&B){var c=B.clientHeight+B.offsetTop,b=B.offsetTop;document.addEventListener("scroll",function(){var f=this.body.scrollTop||this.documentElement.scrollTop||0;if(f>c){z.style.position="relative";z.style.top=(f-b-127)+"px";if(!z.classList||typeof this.msHidden!=="undefined"){z.style.position="fixed";z.style.top="10px"}}else{z.style.position=""}})}}var s=A.$("footbar");var t=function(I,H){var j=A.$(I),f=j.eleClone;if(!f){f=j.cloneNode(true);f.id=I+"Float";f.className+=" hidden";j.eleClone=f;document.body.appendChild(f);f.onmouseover=function(){this.style.bottom="0px"};f.querySelector("a.r").addEventListener("click",function(){t(I,"out");localStorage["ad"+I]=+new Date();clearTimeout(w)});var G=document.querySelector("#"+I+"Float > a");if(G){G.setAttribute("onclick",G.getAttribute("onclick").replace("Not ",""))}}H=H||"into";if(s&&j){if(H=="into"){s.className="slideout";f.style.display="block"}else{s.className="";f.style.display="none"}}};var o=["adYuMi","adYideng","adZhuFeng"].sort(function(){return Math.random()<0.5}),l=0;if(history.pushState&&document.documentElement.clientWidth>1000){var w=null;document.addEventListener("scroll",function(){clearTimeout(w);var K=o[l];if(!K||!A.$(K)){return}var H=localStorage["ad"+K],G=document.documentElement.scrollTop||document.body.scrollTop;if(H){var j=+new Date();if((K=="adYideng"&&j-H*1<86400000*3)||K!="adYideng"){l++;return}}var J=A.$(K),f=J.offsetTop<G+window.innerHeight;var I=J.eleClone;if(I){if(f){t(K,"out")}else{t(K)}}else{w=setTimeout(function(){if(!f){t(K)}},6000)}})}var v=screen.width||document.body.clientWidth,u=A.$("qrCode");if(v>480&&u){setTimeout(function(){u.innerHTML='<img src="http://qr.liantu.com/api.php?text='+location.href+'">'},3000)}})();