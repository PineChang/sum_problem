<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0046)http://www.cnblogs.com/xdp-gacl/p/4200090.html -->
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-cn"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script type="text/javascript" src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/encoder.js"></script>

<title>JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园</title>
<link type="text/css" rel="stylesheet" href="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/blog-common.css">
<link id="MainCss" type="text/css" rel="stylesheet" href="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/bundle-SimpleClear.css">
<link type="text/css" rel="stylesheet" href="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/133816.css">
<link title="RSS" type="application/rss+xml" rel="alternate" href="http://www.cnblogs.com/xdp-gacl/rss">
<link title="RSD" type="application/rsd+xml" rel="EditURI" href="http://www.cnblogs.com/xdp-gacl/rsd.xml">
<link type="application/wlwmanifest+xml" rel="wlwmanifest" href="http://www.cnblogs.com/xdp-gacl/wlwmanifest.xml">
<script src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/jquery.js" type="text/javascript"></script>  
<script type="text/javascript">var currentBlogApp = 'xdp-gacl', cb_enable_mathjax=false;</script>
<script src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/blog-common.js" type="text/javascript"></script>
</head>
<body>
<a name="top"></a>
<div id="page_begin_html"><!-- Baidu Button BEGIN -->
<!--<div style="display: none" id="__document_write_ajax_div-1"></div><script type="text/javascript" id="bdshare_js" data="type=slide&amp;img=0&amp;pos=right&amp;uid=6507240" >window['__document_write_ajax_callbacks__']['1']();</script>
<div style="display: none" id="__document_write_ajax_div-2"></div><script type="text/javascript" id="bdshell_js">window['__document_write_ajax_callbacks__']['2']();</script>
<div style="display: none" id="__document_write_ajax_div-3"></div><script type="text/javascript">window['__document_write_ajax_callbacks__']['3']();</script>-->
<!-- Baidu Button END -->

<!--添加博客目录-->


<!--
<head>

DIY 博客全文界面的推荐、反对、加关注、返回顶部、快速评论等小功能的集成

<div style="display: none" id="__document_write_ajax_div-5"></div><script type="text/javascript">window['__document_write_ajax_callbacks__']['5']();</script>
</head>
--></div><script>load_page_begin_html();</script>

<div id="main">
<div id="header">
<h1><a id="Header1_HeaderTitle" href="http://www.cnblogs.com/xdp-gacl/">孤傲苍狼</a></h1>
<p id="tagline">只为成功找方法，不为失败找借口！</p></div>

<div id="post_detail">
<div class="post">
    <h2 class="postTitle"><a id="cb_post_title_url" href="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园.html">JavaWeb学习总结(五十)——文件上传和下载</a></h2>
    <div class="postText"><div id="cnblogs_post_body"><p>　　在Web应用系统开发中，文件上传和下载功能是非常常用的功能，今天来讲一下JavaWeb中的文件上传和下载功能的实现。</p>
<p>　　对于文件上传，浏览器在上传的过程中是将文件以流的形式提交到服务器端的，如果直接使用Servlet获取上传文件的输入流然后再解析里面的请求参数是比较麻烦，所以一般选择采用apache的开源工具common-fileupload这个文件上传组件。这个common-fileupload上传组件的jar包可以去apache官网上面下载，也可以在struts的lib文件夹下面找到，struts上传的功能就是基于这个实现的。common-fileupload是依赖于common-io这个包的，所以还需要下载这个包。</p>
<h2 id="blogTitle0">一、开发环境搭建</h2>
<p>　　创建一个FileUploadAndDownLoad项目，加入Apache的commons-fileupload文件上传组件的相关Jar包，如下图所示：</p>
<p>　　<img style="border: 1px solid black;" src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/032130161842199.png" alt=""></p>
<h2 id="blogTitle1">二、实现文件上传</h2>
<h3 id="blogTitle2">2.1、文件上传页面和消息提示页面</h3>
<p>　　upload.jsp页面的代码如下：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #008080;"> 1</span> <span style="background-color: #ffff00; color: #000000;">&lt;%</span><span style="background-color: #f5f5f5; color: #000000;">@ page language</span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #800000;">"</span><span style="background-color: #f5f5f5; color: #800000;">java</span><span style="background-color: #f5f5f5; color: #800000;">"</span><span style="background-color: #f5f5f5; color: #000000;"> pageEncoding</span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #800000;">"</span><span style="background-color: #f5f5f5; color: #800000;">UTF-8</span><span style="background-color: #f5f5f5; color: #800000;">"</span><span style="background-color: #ffff00; color: #000000;">%&gt;</span>
<span style="color: #008080;"> 2</span> <span style="color: #0000ff;">&lt;!</span><span style="color: #ff00ff;">DOCTYPE HTML</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;"> 3</span> <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">html</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;"> 4</span>   <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">head</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;"> 5</span>     <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">title</span><span style="color: #0000ff;">&gt;</span>文件上传<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">title</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;"> 6</span>   <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">head</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;"> 7</span>   
<span style="color: #008080;"> 8</span>   <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">body</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;"> 9</span>     <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">form </span><span style="color: #ff0000;">action</span><span style="color: #0000ff;">="${pageContext.request.contextPath}/servlet/UploadHandleServlet"</span><span style="color: #ff0000;"> enctype</span><span style="color: #0000ff;">="multipart/form-data"</span><span style="color: #ff0000;"> method</span><span style="color: #0000ff;">="post"</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">10</span>         上传用户：<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">input </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="text"</span><span style="color: #ff0000;"> name</span><span style="color: #0000ff;">="username"</span><span style="color: #0000ff;">&gt;&lt;</span><span style="color: #800000;">br</span><span style="color: #0000ff;">/&gt;</span>
<span style="color: #008080;">11</span>         上传文件1：<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">input </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="file"</span><span style="color: #ff0000;"> name</span><span style="color: #0000ff;">="file1"</span><span style="color: #0000ff;">&gt;&lt;</span><span style="color: #800000;">br</span><span style="color: #0000ff;">/&gt;</span>
<span style="color: #008080;">12</span>         上传文件2：<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">input </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="file"</span><span style="color: #ff0000;"> name</span><span style="color: #0000ff;">="file2"</span><span style="color: #0000ff;">&gt;&lt;</span><span style="color: #800000;">br</span><span style="color: #0000ff;">/&gt;</span>
<span style="color: #008080;">13</span>         <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">input </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="submit"</span><span style="color: #ff0000;"> value</span><span style="color: #0000ff;">="提交"</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">14</span>     <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">form</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">15</span>   <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">body</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">16</span> <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">html</span><span style="color: #0000ff;">&gt;</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>　　message.jsp的代码如下：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #008080;"> 1</span> <span style="background-color: #ffff00; color: #000000;">&lt;%</span><span style="background-color: #f5f5f5; color: #000000;">@ page language</span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #800000;">"</span><span style="background-color: #f5f5f5; color: #800000;">java</span><span style="background-color: #f5f5f5; color: #800000;">"</span><span style="background-color: #f5f5f5; color: #000000;"> pageEncoding</span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #800000;">"</span><span style="background-color: #f5f5f5; color: #800000;">UTF-8</span><span style="background-color: #f5f5f5; color: #800000;">"</span><span style="background-color: #ffff00; color: #000000;">%&gt;</span>
<span style="color: #008080;"> 2</span> <span style="color: #0000ff;">&lt;!</span><span style="color: #ff00ff;">DOCTYPE HTML</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;"> 3</span> <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">html</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;"> 4</span>   <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">head</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;"> 5</span>     <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">title</span><span style="color: #0000ff;">&gt;</span>消息提示<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">title</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;"> 6</span>   <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">head</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;"> 7</span>   
<span style="color: #008080;"> 8</span>   <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">body</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;"> 9</span> <span style="color: #000000;">        ${message}
</span><span style="color: #008080;">10</span>   <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">body</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">11</span> <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">html</span><span style="color: #0000ff;">&gt;</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<h3 id="blogTitle3">2.2、处理文件上传的Servlet</h3>
<p>　　UploadHandleServlet的代码如下：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #008080;">  1</span> <span style="color: #0000ff;">package</span><span style="color: #000000;"> me.gacl.web.controller;
</span><span style="color: #008080;">  2</span> 
<span style="color: #008080;">  3</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.io.File;
</span><span style="color: #008080;">  4</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.io.FileOutputStream;
</span><span style="color: #008080;">  5</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.io.IOException;
</span><span style="color: #008080;">  6</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.io.InputStream;
</span><span style="color: #008080;">  7</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.util.List;
</span><span style="color: #008080;">  8</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> javax.servlet.ServletException;
</span><span style="color: #008080;">  9</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> javax.servlet.http.HttpServlet;
</span><span style="color: #008080;"> 10</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> javax.servlet.http.HttpServletRequest;
</span><span style="color: #008080;"> 11</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> javax.servlet.http.HttpServletResponse;
</span><span style="color: #008080;"> 12</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> org.apache.commons.fileupload.FileItem;
</span><span style="color: #008080;"> 13</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> org.apache.commons.fileupload.disk.DiskFileItemFactory;
</span><span style="color: #008080;"> 14</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> org.apache.commons.fileupload.servlet.ServletFileUpload;
</span><span style="color: #008080;"> 15</span> 
<span style="color: #008080;"> 16</span> <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span> UploadHandleServlet <span style="color: #0000ff;">extends</span><span style="color: #000000;"> HttpServlet {
</span><span style="color: #008080;"> 17</span> 
<span style="color: #008080;"> 18</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> doGet(HttpServletRequest request, HttpServletResponse response)
</span><span style="color: #008080;"> 19</span>             <span style="color: #0000ff;">throws</span><span style="color: #000000;"> ServletException, IOException {
</span><span style="color: #008080;"> 20</span>                 <span style="color: #008000;">//</span><span style="color: #008000;">得到上传文件的保存目录，将上传的文件存放于WEB-INF目录下，不允许外界直接访问，保证上传文件的安全</span>
<span style="color: #008080;"> 21</span>                 String savePath = <span style="color: #0000ff;">this</span>.getServletContext().getRealPath("/WEB-INF/upload"<span style="color: #000000;">);
</span><span style="color: #008080;"> 22</span>                 File file = <span style="color: #0000ff;">new</span><span style="color: #000000;"> File(savePath);
</span><span style="color: #008080;"> 23</span>                 <span style="color: #008000;">//</span><span style="color: #008000;">判断上传文件的保存目录是否存在</span>
<span style="color: #008080;"> 24</span>                 <span style="color: #0000ff;">if</span> (!file.exists() &amp;&amp; !<span style="color: #000000;">file.isDirectory()) {
</span><span style="color: #008080;"> 25</span>                     System.out.println(savePath+"目录不存在，需要创建"<span style="color: #000000;">);
</span><span style="color: #008080;"> 26</span>                     <span style="color: #008000;">//</span><span style="color: #008000;">创建目录</span>
<span style="color: #008080;"> 27</span> <span style="color: #000000;">                    file.mkdir();
</span><span style="color: #008080;"> 28</span> <span style="color: #000000;">                }
</span><span style="color: #008080;"> 29</span>                 <span style="color: #008000;">//</span><span style="color: #008000;">消息提示</span>
<span style="color: #008080;"> 30</span>                 String message = ""<span style="color: #000000;">;
</span><span style="color: #008080;"> 31</span>                 <span style="color: #0000ff;">try</span><span style="color: #000000;">{
</span><span style="color: #008080;"> 32</span>                     <span style="color: #008000;">//</span><span style="color: #008000;">使用Apache文件上传组件处理文件上传步骤：
</span><span style="color: #008080;"> 33</span>                     <span style="color: #008000;">//</span><span style="color: #008000;">1、创建一个DiskFileItemFactory工厂</span>
<span style="color: #008080;"> 34</span>                     DiskFileItemFactory factory = <span style="color: #0000ff;">new</span><span style="color: #000000;"> DiskFileItemFactory();
</span><span style="color: #008080;"> 35</span>                     <span style="color: #008000;">//</span><span style="color: #008000;">2、创建一个文件上传解析器</span>
<span style="color: #008080;"> 36</span>                     ServletFileUpload upload = <span style="color: #0000ff;">new</span><span style="color: #000000;"> ServletFileUpload(factory);
</span><span style="color: #008080;"> 37</span>                      <span style="color: #008000;">//</span><span style="color: #008000;">解决上传文件名的中文乱码</span>
<span style="color: #008080;"> 38</span>                     upload.setHeaderEncoding("UTF-8"<span style="color: #000000;">); 
</span><span style="color: #008080;"> 39</span>                     <span style="color: #008000;">//</span><span style="color: #008000;">3、判断提交上来的数据是否是上传表单的数据</span>
<span style="color: #008080;"> 40</span>                     <span style="color: #0000ff;">if</span>(!<span style="color: #000000;">ServletFileUpload.isMultipartContent(request)){
</span><span style="color: #008080;"> 41</span>                         <span style="color: #008000;">//</span><span style="color: #008000;">按照传统方式获取数据</span>
<span style="color: #008080;"> 42</span>                         <span style="color: #0000ff;">return</span><span style="color: #000000;">;
</span><span style="color: #008080;"> 43</span> <span style="color: #000000;">                    }
</span><span style="color: #008080;"> 44</span>                     <span style="color: #008000;">//</span><span style="color: #008000;">4、使用ServletFileUpload解析器解析上传数据，解析结果返回的是一个List&lt;FileItem&gt;集合，每一个FileItem对应一个Form表单的输入项</span>
<span style="color: #008080;"> 45</span>                     List&lt;FileItem&gt; list =<span style="color: #000000;"> upload.parseRequest(request);
</span><span style="color: #008080;"> 46</span>                     <span style="color: #0000ff;">for</span><span style="color: #000000;">(FileItem item : list){
</span><span style="color: #008080;"> 47</span>                         <span style="color: #008000;">//</span><span style="color: #008000;">如果fileitem中封装的是普通输入项的数据</span>
<span style="color: #008080;"> 48</span>                         <span style="color: #0000ff;">if</span><span style="color: #000000;">(item.isFormField()){
</span><span style="color: #008080;"> 49</span>                             String name =<span style="color: #000000;"> item.getFieldName();
</span><span style="color: #008080;"> 50</span>                             <span style="color: #008000;">//</span><span style="color: #008000;">解决普通输入项的数据的中文乱码问题</span>
<span style="color: #008080;"> 51</span>                             String value = item.getString("UTF-8"<span style="color: #000000;">);
</span><span style="color: #008080;"> 52</span>                             <span style="color: #008000;">//</span><span style="color: #008000;">value = new String(value.getBytes("iso8859-1"),"UTF-8");</span>
<span style="color: #008080;"> 53</span>                             System.out.println(name + "=" +<span style="color: #000000;"> value);
</span><span style="color: #008080;"> 54</span>                         }<span style="color: #0000ff;">else</span>{<span style="color: #008000;">//</span><span style="color: #008000;">如果fileitem中封装的是上传文件
</span><span style="color: #008080;"> 55</span>                             <span style="color: #008000;">//</span><span style="color: #008000;">得到上传的文件名称，</span>
<span style="color: #008080;"> 56</span>                             String filename =<span style="color: #000000;"> item.getName();
</span><span style="color: #008080;"> 57</span> <span style="color: #000000;">                            System.out.println(filename);
</span><span style="color: #008080;"> 58</span>                             <span style="color: #0000ff;">if</span>(filename==<span style="color: #0000ff;">null</span> || filename.trim().equals(""<span style="color: #000000;">)){
</span><span style="color: #008080;"> 59</span>                                 <span style="color: #0000ff;">continue</span><span style="color: #000000;">;
</span><span style="color: #008080;"> 60</span> <span style="color: #000000;">                            }
</span><span style="color: #008080;"> 61</span>                             <span style="color: #008000;">//</span><span style="color: #008000;">注意：不同的浏览器提交的文件名是不一样的，有些浏览器提交上来的文件名是带有路径的，如：  c:\a\b\1.txt，而有些只是单纯的文件名，如：1.txt
</span><span style="color: #008080;"> 62</span>                             <span style="color: #008000;">//</span><span style="color: #008000;">处理获取到的上传文件的文件名的路径部分，只保留文件名部分</span>
<span style="color: #008080;"> 63</span>                             filename = filename.substring(filename.lastIndexOf("\\")+1<span style="color: #000000;">);
</span><span style="color: #008080;"> 64</span>                             <span style="color: #008000;">//</span><span style="color: #008000;">获取item中的上传文件的输入流</span>
<span style="color: #008080;"> 65</span>                             InputStream in =<span style="color: #000000;"> item.getInputStream();
</span><span style="color: #008080;"> 66</span>                             <span style="color: #008000;">//</span><span style="color: #008000;">创建一个文件输出流</span>
<span style="color: #008080;"> 67</span>                             FileOutputStream out = <span style="color: #0000ff;">new</span> FileOutputStream(savePath + "\\" +<span style="color: #000000;"> filename);
</span><span style="color: #008080;"> 68</span>                             <span style="color: #008000;">//</span><span style="color: #008000;">创建一个缓冲区</span>
<span style="color: #008080;"> 69</span>                             <span style="color: #0000ff;">byte</span> buffer[] = <span style="color: #0000ff;">new</span> <span style="color: #0000ff;">byte</span>[1024<span style="color: #000000;">];
</span><span style="color: #008080;"> 70</span>                             <span style="color: #008000;">//</span><span style="color: #008000;">判断输入流中的数据是否已经读完的标识</span>
<span style="color: #008080;"> 71</span>                             <span style="color: #0000ff;">int</span> len = 0<span style="color: #000000;">;
</span><span style="color: #008080;"> 72</span>                             <span style="color: #008000;">//</span><span style="color: #008000;">循环将输入流读入到缓冲区当中，(len=in.read(buffer))&gt;0就表示in里面还有数据</span>
<span style="color: #008080;"> 73</span>                             <span style="color: #0000ff;">while</span>((len=in.read(buffer))&gt;0<span style="color: #000000;">){
</span><span style="color: #008080;"> 74</span>                                 <span style="color: #008000;">//</span><span style="color: #008000;">使用FileOutputStream输出流将缓冲区的数据写入到指定的目录(savePath + "\\" + filename)当中</span>
<span style="color: #008080;"> 75</span>                                 out.write(buffer, 0<span style="color: #000000;">, len);
</span><span style="color: #008080;"> 76</span> <span style="color: #000000;">                            }
</span><span style="color: #008080;"> 77</span>                             <span style="color: #008000;">//</span><span style="color: #008000;">关闭输入流</span>
<span style="color: #008080;"> 78</span> <span style="color: #000000;">                            in.close();
</span><span style="color: #008080;"> 79</span>                             <span style="color: #008000;">//</span><span style="color: #008000;">关闭输出流</span>
<span style="color: #008080;"> 80</span> <span style="color: #000000;">                            out.close();
</span><span style="color: #008080;"> 81</span>                             <span style="color: #008000;">//</span><span style="color: #008000;">删除处理文件上传时生成的临时文件</span>
<span style="color: #008080;"> 82</span> <span style="color: #000000;">                            item.delete();
</span><span style="color: #008080;"> 83</span>                             message = "文件上传成功！"<span style="color: #000000;">;
</span><span style="color: #008080;"> 84</span> <span style="color: #000000;">                        }
</span><span style="color: #008080;"> 85</span> <span style="color: #000000;">                    }
</span><span style="color: #008080;"> 86</span>                 }<span style="color: #0000ff;">catch</span><span style="color: #000000;"> (Exception e) {
</span><span style="color: #008080;"> 87</span>                     message= "文件上传失败！"<span style="color: #000000;">;
</span><span style="color: #008080;"> 88</span> <span style="color: #000000;">                    e.printStackTrace();
</span><span style="color: #008080;"> 89</span>                     
<span style="color: #008080;"> 90</span> <span style="color: #000000;">                }
</span><span style="color: #008080;"> 91</span>                 request.setAttribute("message"<span style="color: #000000;">,message);
</span><span style="color: #008080;"> 92</span>                 request.getRequestDispatcher("/message.jsp"<span style="color: #000000;">).forward(request, response);
</span><span style="color: #008080;"> 93</span> <span style="color: #000000;">    }
</span><span style="color: #008080;"> 94</span> 
<span style="color: #008080;"> 95</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> doPost(HttpServletRequest request, HttpServletResponse response)
</span><span style="color: #008080;"> 96</span>             <span style="color: #0000ff;">throws</span><span style="color: #000000;"> ServletException, IOException {
</span><span style="color: #008080;"> 97</span> 
<span style="color: #008080;"> 98</span> <span style="color: #000000;">        doGet(request, response);
</span><span style="color: #008080;"> 99</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">100</span> }</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>　　在Web.xml文件中注册UploadHandleServlet</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #008080;">1</span> <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">servlet</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">2</span>     <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">servlet-name</span><span style="color: #0000ff;">&gt;</span>UploadHandleServlet<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">servlet-name</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">3</span>     <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">servlet-class</span><span style="color: #0000ff;">&gt;</span>me.gacl.web.controller.UploadHandleServlet<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">servlet-class</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">4</span> <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">servlet</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">5</span> 
<span style="color: #008080;">6</span> <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">servlet-mapping</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">7</span>     <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">servlet-name</span><span style="color: #0000ff;">&gt;</span>UploadHandleServlet<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">servlet-name</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">8</span>     <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">url-pattern</span><span style="color: #0000ff;">&gt;</span>/servlet/UploadHandleServlet<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">url-pattern</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">9</span> <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">servlet-mapping</span><span style="color: #0000ff;">&gt;</span>    </pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>　　运行效果如下：</p>
<p>&nbsp;　　<img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/032259074816790.gif" alt=""></p>
<p>　　文件上传成功之后，上传的文件保存在了WEB-INF目录下的upload目录，如下图所示：</p>
<p>　　<img style="border: 1px solid black;" src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/032301344346495.png" alt=""></p>
<h3 id="blogTitle4">2.3、文件上传的细节</h3>
<p>　　上述的代码虽然可以成功将文件上传到服务器上面的指定目录当中，但是文件上传功能有许多需要注意的小细节问题，以下列出的几点需要特别注意的</p>
<p>　　<span style="color: #ff0000;"><strong>1、为保证服务器安全，上传文件应该放在外界无法直接访问的目录下，比如放于WEB-INF目录下。</strong></span></p>
<p><span style="color: #ff0000;"><strong>　　2、为防止文件覆盖的现象发生，要为上传文件产生一个唯一的文件名。</strong></span></p>
<p><span style="color: #ff0000;"><strong>　　3、为防止一个目录下面出现太多文件，要使用hash算法打散存储。</strong></span></p>
<p><span style="color: #ff0000;"><strong>　　4、要限制上传文件的最大值。</strong></span></p>
<p><span style="color: #ff0000;"><strong>　　5、要<span style="color: #ff0000;"><strong>限制</strong></span>上传文件的类型，在收到上传文件名时，判断后缀名是否合法。</strong></span></p>
<p>　　针对上述提出的5点细节问题，我们来改进一下UploadHandleServlet，改进后的代码如下：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #008080;">  1</span> <span style="color: #0000ff;">package</span><span style="color: #000000;"> me.gacl.web.controller;
</span><span style="color: #008080;">  2</span> 
<span style="color: #008080;">  3</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.io.File;
</span><span style="color: #008080;">  4</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.io.FileOutputStream;
</span><span style="color: #008080;">  5</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.io.IOException;
</span><span style="color: #008080;">  6</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.io.InputStream;
</span><span style="color: #008080;">  7</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.util.List;
</span><span style="color: #008080;">  8</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.util.UUID;
</span><span style="color: #008080;">  9</span> 
<span style="color: #008080;"> 10</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> javax.servlet.ServletException;
</span><span style="color: #008080;"> 11</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> javax.servlet.http.HttpServlet;
</span><span style="color: #008080;"> 12</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> javax.servlet.http.HttpServletRequest;
</span><span style="color: #008080;"> 13</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> javax.servlet.http.HttpServletResponse;
</span><span style="color: #008080;"> 14</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> org.apache.commons.fileupload.FileItem;
</span><span style="color: #008080;"> 15</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> org.apache.commons.fileupload.FileUploadBase;
</span><span style="color: #008080;"> 16</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> org.apache.commons.fileupload.ProgressListener;
</span><span style="color: #008080;"> 17</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> org.apache.commons.fileupload.disk.DiskFileItemFactory;
</span><span style="color: #008080;"> 18</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> org.apache.commons.fileupload.servlet.ServletFileUpload;
</span><span style="color: #008080;"> 19</span> 
<span style="color: #008080;"> 20</span> <span style="color: #008000;">/**</span>
<span style="color: #008080;"> 21</span> <span style="color: #008000;">* @ClassName: UploadHandleServlet
</span><span style="color: #008080;"> 22</span> <span style="color: #008000;">* @Description: TODO(这里用一句话描述这个类的作用)
</span><span style="color: #008080;"> 23</span> <span style="color: #008000;">* </span><span style="color: #808080;">@author</span><span style="color: #008000;">: 孤傲苍狼
</span><span style="color: #008080;"> 24</span> <span style="color: #008000;">* @date: 2015-1-3 下午11:35:50
</span><span style="color: #008080;"> 25</span> <span style="color: #008000;">*
</span><span style="color: #008080;"> 26</span> <span style="color: #008000;">*/</span> 
<span style="color: #008080;"> 27</span> <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span> UploadHandleServlet <span style="color: #0000ff;">extends</span><span style="color: #000000;"> HttpServlet {
</span><span style="color: #008080;"> 28</span> 
<span style="color: #008080;"> 29</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> doGet(HttpServletRequest request, HttpServletResponse response)
</span><span style="color: #008080;"> 30</span>             <span style="color: #0000ff;">throws</span><span style="color: #000000;"> ServletException, IOException {
</span><span style="color: #008080;"> 31</span>                 <span style="color: #008000;">//</span><span style="color: #008000;">得到上传文件的保存目录，将上传的文件存放于WEB-INF目录下，不允许外界直接访问，保证上传文件的安全</span>
<span style="color: #008080;"> 32</span>                 String savePath = <span style="color: #0000ff;">this</span>.getServletContext().getRealPath("/WEB-INF/upload"<span style="color: #000000;">);
</span><span style="color: #008080;"> 33</span>                 <span style="color: #008000;">//</span><span style="color: #008000;">上传时生成的临时文件保存目录</span>
<span style="color: #008080;"> 34</span>                 String tempPath = <span style="color: #0000ff;">this</span>.getServletContext().getRealPath("/WEB-INF/temp"<span style="color: #000000;">);
</span><span style="color: #008080;"> 35</span>                 File tmpFile = <span style="color: #0000ff;">new</span><span style="color: #000000;"> File(tempPath);
</span><span style="color: #008080;"> 36</span>                 <span style="color: #0000ff;">if</span> (!<span style="color: #000000;">tmpFile.exists()) {
</span><span style="color: #008080;"> 37</span>                     <span style="color: #008000;">//</span><span style="color: #008000;">创建临时目录</span>
<span style="color: #008080;"> 38</span> <span style="color: #000000;">                    tmpFile.mkdir();
</span><span style="color: #008080;"> 39</span> <span style="color: #000000;">                }
</span><span style="color: #008080;"> 40</span>                 
<span style="color: #008080;"> 41</span>                 <span style="color: #008000;">//</span><span style="color: #008000;">消息提示</span>
<span style="color: #008080;"> 42</span>                 String message = ""<span style="color: #000000;">;
</span><span style="color: #008080;"> 43</span>                 <span style="color: #0000ff;">try</span><span style="color: #000000;">{
</span><span style="color: #008080;"> 44</span>                     <span style="color: #008000;">//</span><span style="color: #008000;">使用Apache文件上传组件处理文件上传步骤：
</span><span style="color: #008080;"> 45</span>                     <span style="color: #008000;">//</span><span style="color: #008000;">1、创建一个DiskFileItemFactory工厂</span>
<span style="color: #008080;"> 46</span>                     DiskFileItemFactory factory = <span style="color: #0000ff;">new</span><span style="color: #000000;"> DiskFileItemFactory();
</span><span style="color: #008080;"> 47</span>                     <span style="color: #008000;">//</span><span style="color: #008000;">设置工厂的缓冲区的大小，当上传的文件大小超过缓冲区的大小时，就会生成一个临时文件存放到指定的临时目录当中。</span>
<span style="color: #008080;"> 48</span>                     factory.setSizeThreshold(1024*100);<span style="color: #008000;">//</span><span style="color: #008000;">设置缓冲区的大小为100KB，如果不指定，那么缓冲区的大小默认是10KB
</span><span style="color: #008080;"> 49</span>                     <span style="color: #008000;">//</span><span style="color: #008000;">设置上传时生成的临时文件的保存目录</span>
<span style="color: #008080;"> 50</span> <span style="color: #000000;">                    factory.setRepository(tmpFile);
</span><span style="color: #008080;"> 51</span>                     <span style="color: #008000;">//</span><span style="color: #008000;">2、创建一个文件上传解析器</span>
<span style="color: #008080;"> 52</span>                     ServletFileUpload upload = <span style="color: #0000ff;">new</span><span style="color: #000000;"> ServletFileUpload(factory);
</span><span style="color: #008080;"> 53</span>                     <span style="color: #008000;">//</span><span style="color: #008000;">监听文件上传进度</span>
<span style="color: #008080;"> 54</span>                     upload.setProgressListener(<span style="color: #0000ff;">new</span><span style="color: #000000;"> ProgressListener(){
</span><span style="color: #008080;"> 55</span>                         <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span> update(<span style="color: #0000ff;">long</span> pBytesRead, <span style="color: #0000ff;">long</span> pContentLength, <span style="color: #0000ff;">int</span><span style="color: #000000;"> arg2) {
</span><span style="color: #008080;"> 56</span>                             System.out.println("文件大小为：" + pContentLength + ",当前已处理：" +<span style="color: #000000;"> pBytesRead);
</span><span style="color: #008080;"> 57</span>                             <span style="color: #008000;">/**</span>
<span style="color: #008080;"> 58</span> <span style="color: #008000;">                             * 文件大小为：14608,当前已处理：4096
</span><span style="color: #008080;"> 59</span> <span style="color: #008000;">                                文件大小为：14608,当前已处理：7367
</span><span style="color: #008080;"> 60</span> <span style="color: #008000;">                                文件大小为：14608,当前已处理：11419
</span><span style="color: #008080;"> 61</span> <span style="color: #008000;">                                文件大小为：14608,当前已处理：14608
</span><span style="color: #008080;"> 62</span>                              <span style="color: #008000;">*/</span>
<span style="color: #008080;"> 63</span> <span style="color: #000000;">                        }
</span><span style="color: #008080;"> 64</span> <span style="color: #000000;">                    });
</span><span style="color: #008080;"> 65</span>                      <span style="color: #008000;">//</span><span style="color: #008000;">解决上传文件名的中文乱码</span>
<span style="color: #008080;"> 66</span>                     upload.setHeaderEncoding("UTF-8"<span style="color: #000000;">); 
</span><span style="color: #008080;"> 67</span>                     <span style="color: #008000;">//</span><span style="color: #008000;">3、判断提交上来的数据是否是上传表单的数据</span>
<span style="color: #008080;"> 68</span>                     <span style="color: #0000ff;">if</span>(!<span style="color: #000000;">ServletFileUpload.isMultipartContent(request)){
</span><span style="color: #008080;"> 69</span>                         <span style="color: #008000;">//</span><span style="color: #008000;">按照传统方式获取数据</span>
<span style="color: #008080;"> 70</span>                         <span style="color: #0000ff;">return</span><span style="color: #000000;">;
</span><span style="color: #008080;"> 71</span> <span style="color: #000000;">                    }
</span><span style="color: #008080;"> 72</span>                     
<span style="color: #008080;"> 73</span>                     <span style="color: #008000;">//</span><span style="color: #008000;">设置上传单个文件的大小的最大值，目前是设置为1024*1024字节，也就是1MB</span>
<span style="color: #008080;"> 74</span>                     upload.setFileSizeMax(1024*1024<span style="color: #000000;">);
</span><span style="color: #008080;"> 75</span>                     <span style="color: #008000;">//</span><span style="color: #008000;">设置上传文件总量的最大值，最大值=同时上传的多个文件的大小的最大值的和，目前设置为10MB</span>
<span style="color: #008080;"> 76</span>                     upload.setSizeMax(1024*1024*10<span style="color: #000000;">);
</span><span style="color: #008080;"> 77</span>                     <span style="color: #008000;">//</span><span style="color: #008000;">4、使用ServletFileUpload解析器解析上传数据，解析结果返回的是一个List&lt;FileItem&gt;集合，每一个FileItem对应一个Form表单的输入项</span>
<span style="color: #008080;"> 78</span>                     List&lt;FileItem&gt; list =<span style="color: #000000;"> upload.parseRequest(request);
</span><span style="color: #008080;"> 79</span>                     <span style="color: #0000ff;">for</span><span style="color: #000000;">(FileItem item : list){
</span><span style="color: #008080;"> 80</span>                         <span style="color: #008000;">//</span><span style="color: #008000;">如果fileitem中封装的是普通输入项的数据</span>
<span style="color: #008080;"> 81</span>                         <span style="color: #0000ff;">if</span><span style="color: #000000;">(item.isFormField()){
</span><span style="color: #008080;"> 82</span>                             String name =<span style="color: #000000;"> item.getFieldName();
</span><span style="color: #008080;"> 83</span>                             <span style="color: #008000;">//</span><span style="color: #008000;">解决普通输入项的数据的中文乱码问题</span>
<span style="color: #008080;"> 84</span>                             String value = item.getString("UTF-8"<span style="color: #000000;">);
</span><span style="color: #008080;"> 85</span>                             <span style="color: #008000;">//</span><span style="color: #008000;">value = new String(value.getBytes("iso8859-1"),"UTF-8");</span>
<span style="color: #008080;"> 86</span>                             System.out.println(name + "=" +<span style="color: #000000;"> value);
</span><span style="color: #008080;"> 87</span>                         }<span style="color: #0000ff;">else</span>{<span style="color: #008000;">//</span><span style="color: #008000;">如果fileitem中封装的是上传文件
</span><span style="color: #008080;"> 88</span>                             <span style="color: #008000;">//</span><span style="color: #008000;">得到上传的文件名称，</span>
<span style="color: #008080;"> 89</span>                             String filename =<span style="color: #000000;"> item.getName();
</span><span style="color: #008080;"> 90</span> <span style="color: #000000;">                            System.out.println(filename);
</span><span style="color: #008080;"> 91</span>                             <span style="color: #0000ff;">if</span>(filename==<span style="color: #0000ff;">null</span> || filename.trim().equals(""<span style="color: #000000;">)){
</span><span style="color: #008080;"> 92</span>                                 <span style="color: #0000ff;">continue</span><span style="color: #000000;">;
</span><span style="color: #008080;"> 93</span> <span style="color: #000000;">                            }
</span><span style="color: #008080;"> 94</span>                             <span style="color: #008000;">//</span><span style="color: #008000;">注意：不同的浏览器提交的文件名是不一样的，有些浏览器提交上来的文件名是带有路径的，如：  c:\a\b\1.txt，而有些只是单纯的文件名，如：1.txt
</span><span style="color: #008080;"> 95</span>                             <span style="color: #008000;">//</span><span style="color: #008000;">处理获取到的上传文件的文件名的路径部分，只保留文件名部分</span>
<span style="color: #008080;"> 96</span>                             filename = filename.substring(filename.lastIndexOf("\\")+1<span style="color: #000000;">);
</span><span style="color: #008080;"> 97</span>                             <span style="color: #008000;">//</span><span style="color: #008000;">得到上传文件的扩展名</span>
<span style="color: #008080;"> 98</span>                             String fileExtName = filename.substring(filename.lastIndexOf(".")+1<span style="color: #000000;">);
</span><span style="color: #008080;"> 99</span>                             <span style="color: #008000;">//</span><span style="color: #008000;">如果需要限制上传的文件类型，那么可以通过文件的扩展名来判断上传的文件类型是否合法</span>
<span style="color: #008080;">100</span>                             System.out.println("上传的文件的扩展名是："+<span style="color: #000000;">fileExtName);
</span><span style="color: #008080;">101</span>                             <span style="color: #008000;">//</span><span style="color: #008000;">获取item中的上传文件的输入流</span>
<span style="color: #008080;">102</span>                             InputStream in =<span style="color: #000000;"> item.getInputStream();
</span><span style="color: #008080;">103</span>                             <span style="color: #008000;">//</span><span style="color: #008000;">得到文件保存的名称</span>
<span style="color: #008080;">104</span>                             String saveFilename =<span style="color: #000000;"> makeFileName(filename);
</span><span style="color: #008080;">105</span>                             <span style="color: #008000;">//</span><span style="color: #008000;">得到文件的保存目录</span>
<span style="color: #008080;">106</span>                             String realSavePath =<span style="color: #000000;"> makePath(saveFilename, savePath);
</span><span style="color: #008080;">107</span>                             <span style="color: #008000;">//</span><span style="color: #008000;">创建一个文件输出流</span>
<span style="color: #008080;">108</span>                             FileOutputStream out = <span style="color: #0000ff;">new</span> FileOutputStream(realSavePath + "\\" +<span style="color: #000000;"> saveFilename);
</span><span style="color: #008080;">109</span>                             <span style="color: #008000;">//</span><span style="color: #008000;">创建一个缓冲区</span>
<span style="color: #008080;">110</span>                             <span style="color: #0000ff;">byte</span> buffer[] = <span style="color: #0000ff;">new</span> <span style="color: #0000ff;">byte</span>[1024<span style="color: #000000;">];
</span><span style="color: #008080;">111</span>                             <span style="color: #008000;">//</span><span style="color: #008000;">判断输入流中的数据是否已经读完的标识</span>
<span style="color: #008080;">112</span>                             <span style="color: #0000ff;">int</span> len = 0<span style="color: #000000;">;
</span><span style="color: #008080;">113</span>                             <span style="color: #008000;">//</span><span style="color: #008000;">循环将输入流读入到缓冲区当中，(len=in.read(buffer))&gt;0就表示in里面还有数据</span>
<span style="color: #008080;">114</span>                             <span style="color: #0000ff;">while</span>((len=in.read(buffer))&gt;0<span style="color: #000000;">){
</span><span style="color: #008080;">115</span>                                 <span style="color: #008000;">//</span><span style="color: #008000;">使用FileOutputStream输出流将缓冲区的数据写入到指定的目录(savePath + "\\" + filename)当中</span>
<span style="color: #008080;">116</span>                                 out.write(buffer, 0<span style="color: #000000;">, len);
</span><span style="color: #008080;">117</span> <span style="color: #000000;">                            }
</span><span style="color: #008080;">118</span>                             <span style="color: #008000;">//</span><span style="color: #008000;">关闭输入流</span>
<span style="color: #008080;">119</span> <span style="color: #000000;">                            in.close();
</span><span style="color: #008080;">120</span>                             <span style="color: #008000;">//</span><span style="color: #008000;">关闭输出流</span>
<span style="color: #008080;">121</span> <span style="color: #000000;">                            out.close();
</span><span style="color: #008080;">122</span>                             <span style="color: #008000;">//</span><span style="color: #008000;">删除处理文件上传时生成的临时文件
</span><span style="color: #008080;">123</span>                             <span style="color: #008000;">//</span><span style="color: #008000;">item.delete();</span>
<span style="color: #008080;">124</span>                             message = "文件上传成功！"<span style="color: #000000;">;
</span><span style="color: #008080;">125</span> <span style="color: #000000;">                        }
</span><span style="color: #008080;">126</span> <span style="color: #000000;">                    }
</span><span style="color: #008080;">127</span>                 }<span style="color: #0000ff;">catch</span><span style="color: #000000;"> (FileUploadBase.FileSizeLimitExceededException e) {
</span><span style="color: #008080;">128</span> <span style="color: #000000;">                    e.printStackTrace();
</span><span style="color: #008080;">129</span>                     request.setAttribute("message", "单个文件超出最大值！！！"<span style="color: #000000;">);
</span><span style="color: #008080;">130</span>                     request.getRequestDispatcher("/message.jsp"<span style="color: #000000;">).forward(request, response);
</span><span style="color: #008080;">131</span>                     <span style="color: #0000ff;">return</span><span style="color: #000000;">;
</span><span style="color: #008080;">132</span>                 }<span style="color: #0000ff;">catch</span><span style="color: #000000;"> (FileUploadBase.SizeLimitExceededException e) {
</span><span style="color: #008080;">133</span> <span style="color: #000000;">                    e.printStackTrace();
</span><span style="color: #008080;">134</span>                     request.setAttribute("message", "上传文件的总的大小超出限制的最大值！！！"<span style="color: #000000;">);
</span><span style="color: #008080;">135</span>                     request.getRequestDispatcher("/message.jsp"<span style="color: #000000;">).forward(request, response);
</span><span style="color: #008080;">136</span>                     <span style="color: #0000ff;">return</span><span style="color: #000000;">;
</span><span style="color: #008080;">137</span>                 }<span style="color: #0000ff;">catch</span><span style="color: #000000;"> (Exception e) {
</span><span style="color: #008080;">138</span>                     message= "文件上传失败！"<span style="color: #000000;">;
</span><span style="color: #008080;">139</span> <span style="color: #000000;">                    e.printStackTrace();
</span><span style="color: #008080;">140</span> <span style="color: #000000;">                }
</span><span style="color: #008080;">141</span>                 request.setAttribute("message"<span style="color: #000000;">,message);
</span><span style="color: #008080;">142</span>                 request.getRequestDispatcher("/message.jsp"<span style="color: #000000;">).forward(request, response);
</span><span style="color: #008080;">143</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">144</span>     
<span style="color: #008080;">145</span>     <span style="color: #008000;">/**</span>
<span style="color: #008080;">146</span> <span style="color: #008000;">    * @Method: makeFileName
</span><span style="color: #008080;">147</span> <span style="color: #008000;">    * @Description: 生成上传文件的文件名，文件名以：uuid+"_"+文件的原始名称
</span><span style="color: #008080;">148</span> <span style="color: #008000;">    * @Anthor:孤傲苍狼
</span><span style="color: #008080;">149</span> <span style="color: #008000;">    * </span><span style="color: #808080;">@param</span><span style="color: #008000;"> filename 文件的原始名称
</span><span style="color: #008080;">150</span> <span style="color: #008000;">    * </span><span style="color: #808080;">@return</span><span style="color: #008000;"> uuid+"_"+文件的原始名称
</span><span style="color: #008080;">151</span>     <span style="color: #008000;">*/</span> 
<span style="color: #008080;">152</span>     <span style="color: #0000ff;">private</span> String makeFileName(String filename){  <span style="color: #008000;">//</span><span style="color: #008000;">2.jpg
</span><span style="color: #008080;">153</span>         <span style="color: #008000;">//</span><span style="color: #008000;">为防止文件覆盖的现象发生，要为上传文件产生一个唯一的文件名</span>
<span style="color: #008080;">154</span>         <span style="color: #0000ff;">return</span> UUID.randomUUID().toString() + "_" +<span style="color: #000000;"> filename;
</span><span style="color: #008080;">155</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">156</span>     
<span style="color: #008080;">157</span>     <span style="color: #008000;">/**</span>
<span style="color: #008080;">158</span> <span style="color: #008000;">     * 为防止一个目录下面出现太多文件，要使用hash算法打散存储
</span><span style="color: #008080;">159</span> <span style="color: #008000;">    * @Method: makePath
</span><span style="color: #008080;">160</span> <span style="color: #008000;">    * @Description: 
</span><span style="color: #008080;">161</span> <span style="color: #008000;">    * @Anthor:孤傲苍狼
</span><span style="color: #008080;">162</span> <span style="color: #008000;">    *
</span><span style="color: #008080;">163</span> <span style="color: #008000;">    * </span><span style="color: #808080;">@param</span><span style="color: #008000;"> filename 文件名，要根据文件名生成存储目录
</span><span style="color: #008080;">164</span> <span style="color: #008000;">    * </span><span style="color: #808080;">@param</span><span style="color: #008000;"> savePath 文件存储路径
</span><span style="color: #008080;">165</span> <span style="color: #008000;">    * </span><span style="color: #808080;">@return</span><span style="color: #008000;"> 新的存储目录
</span><span style="color: #008080;">166</span>     <span style="color: #008000;">*/</span> 
<span style="color: #008080;">167</span>     <span style="color: #0000ff;">private</span><span style="color: #000000;"> String makePath(String filename,String savePath){
</span><span style="color: #008080;">168</span>         <span style="color: #008000;">//</span><span style="color: #008000;">得到文件名的hashCode的值，得到的就是filename这个字符串对象在内存中的地址</span>
<span style="color: #008080;">169</span>         <span style="color: #0000ff;">int</span> hashcode =<span style="color: #000000;"> filename.hashCode();
</span><span style="color: #008080;">170</span>         <span style="color: #0000ff;">int</span> dir1 = hashcode&amp;0xf;  <span style="color: #008000;">//</span><span style="color: #008000;">0--15</span>
<span style="color: #008080;">171</span>         <span style="color: #0000ff;">int</span> dir2 = (hashcode&amp;0xf0)&gt;&gt;4;  <span style="color: #008000;">//</span><span style="color: #008000;">0-15
</span><span style="color: #008080;">172</span>         <span style="color: #008000;">//</span><span style="color: #008000;">构造新的保存目录</span>
<span style="color: #008080;">173</span>         String dir = savePath + "\\" + dir1 + "\\" + dir2;  <span style="color: #008000;">//</span><span style="color: #008000;">upload\2\3  upload\3\5
</span><span style="color: #008080;">174</span>         <span style="color: #008000;">//</span><span style="color: #008000;">File既可以代表文件也可以代表目录</span>
<span style="color: #008080;">175</span>         File file = <span style="color: #0000ff;">new</span><span style="color: #000000;"> File(dir);
</span><span style="color: #008080;">176</span>         <span style="color: #008000;">//</span><span style="color: #008000;">如果目录不存在</span>
<span style="color: #008080;">177</span>         <span style="color: #0000ff;">if</span>(!<span style="color: #000000;">file.exists()){
</span><span style="color: #008080;">178</span>             <span style="color: #008000;">//</span><span style="color: #008000;">创建目录</span>
<span style="color: #008080;">179</span> <span style="color: #000000;">            file.mkdirs();
</span><span style="color: #008080;">180</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">181</span>         <span style="color: #0000ff;">return</span><span style="color: #000000;"> dir;
</span><span style="color: #008080;">182</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">183</span> 
<span style="color: #008080;">184</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> doPost(HttpServletRequest request, HttpServletResponse response)
</span><span style="color: #008080;">185</span>             <span style="color: #0000ff;">throws</span><span style="color: #000000;"> ServletException, IOException {
</span><span style="color: #008080;">186</span> 
<span style="color: #008080;">187</span> <span style="color: #000000;">        doGet(request, response);
</span><span style="color: #008080;">188</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">189</span> }</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>　　针对上述提出的5点小细节问题进行改进之后，我们的文件上传功能就算是做得比较完善了。</p>
<h2 id="blogTitle5">三、文件下载</h2>
<h3 id="blogTitle6">3.1、列出提供下载的文件资源</h3>
<p>　　我们要将Web应用系统中的文件资源提供给用户进行下载，首先我们要有一个页面列出上传文件目录下的所有文件，当用户点击文件下载超链接时就进行下载操作，编写一个ListFileServlet，用于列出Web应用系统中所有下载文件。</p>
<p>　　ListFileServlet的代码如下：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">package</span><span style="color: #000000;"> me.gacl.web.controller;
</span><span style="color: #008080;"> 2</span> 
<span style="color: #008080;"> 3</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.io.File;
</span><span style="color: #008080;"> 4</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.io.IOException;
</span><span style="color: #008080;"> 5</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.util.HashMap;
</span><span style="color: #008080;"> 6</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.util.Map;
</span><span style="color: #008080;"> 7</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> javax.servlet.ServletException;
</span><span style="color: #008080;"> 8</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> javax.servlet.http.HttpServlet;
</span><span style="color: #008080;"> 9</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> javax.servlet.http.HttpServletRequest;
</span><span style="color: #008080;">10</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> javax.servlet.http.HttpServletResponse;
</span><span style="color: #008080;">11</span> 
<span style="color: #008080;">12</span> <span style="color: #008000;">/**</span>
<span style="color: #008080;">13</span> <span style="color: #008000;">* @ClassName: ListFileServlet
</span><span style="color: #008080;">14</span> <span style="color: #008000;">* @Description: 列出Web系统中所有下载文件
</span><span style="color: #008080;">15</span> <span style="color: #008000;">* </span><span style="color: #808080;">@author</span><span style="color: #008000;">: 孤傲苍狼
</span><span style="color: #008080;">16</span> <span style="color: #008000;">* @date: 2015-1-4 下午9:54:40
</span><span style="color: #008080;">17</span> <span style="color: #008000;">*
</span><span style="color: #008080;">18</span> <span style="color: #008000;">*/</span> 
<span style="color: #008080;">19</span> <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span> ListFileServlet <span style="color: #0000ff;">extends</span><span style="color: #000000;"> HttpServlet {
</span><span style="color: #008080;">20</span> 
<span style="color: #008080;">21</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> doGet(HttpServletRequest request, HttpServletResponse response)
</span><span style="color: #008080;">22</span>             <span style="color: #0000ff;">throws</span><span style="color: #000000;"> ServletException, IOException {
</span><span style="color: #008080;">23</span>         <span style="color: #008000;">//</span><span style="color: #008000;">获取上传文件的目录</span>
<span style="color: #008080;">24</span>         String uploadFilePath = <span style="color: #0000ff;">this</span>.getServletContext().getRealPath("/WEB-INF/upload"<span style="color: #000000;">);
</span><span style="color: #008080;">25</span>         <span style="color: #008000;">//</span><span style="color: #008000;">存储要下载的文件名</span>
<span style="color: #008080;">26</span>         Map&lt;String,String&gt; fileNameMap = <span style="color: #0000ff;">new</span> HashMap&lt;String,String&gt;<span style="color: #000000;">();
</span><span style="color: #008080;">27</span>         <span style="color: #008000;">//</span><span style="color: #008000;">递归遍历filepath目录下的所有文件和目录，将文件的文件名存储到map集合中</span>
<span style="color: #008080;">28</span>         listfile(<span style="color: #0000ff;">new</span> File(uploadFilePath),fileNameMap);<span style="color: #008000;">//</span><span style="color: #008000;">File既可以代表一个文件也可以代表一个目录
</span><span style="color: #008080;">29</span>         <span style="color: #008000;">//</span><span style="color: #008000;">将Map集合发送到listfile.jsp页面进行显示</span>
<span style="color: #008080;">30</span>         request.setAttribute("fileNameMap"<span style="color: #000000;">, fileNameMap);
</span><span style="color: #008080;">31</span>         request.getRequestDispatcher("/listfile.jsp"<span style="color: #000000;">).forward(request, response);
</span><span style="color: #008080;">32</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">33</span>     
<span style="color: #008080;">34</span>     <span style="color: #008000;">/**</span>
<span style="color: #008080;">35</span> <span style="color: #008000;">    * @Method: listfile
</span><span style="color: #008080;">36</span> <span style="color: #008000;">    * @Description: 递归遍历指定目录下的所有文件
</span><span style="color: #008080;">37</span> <span style="color: #008000;">    * @Anthor:孤傲苍狼
</span><span style="color: #008080;">38</span> <span style="color: #008000;">    * </span><span style="color: #808080;">@param</span><span style="color: #008000;"> file 即代表一个文件，也代表一个文件目录
</span><span style="color: #008080;">39</span> <span style="color: #008000;">    * </span><span style="color: #808080;">@param</span><span style="color: #008000;"> map 存储文件名的Map集合
</span><span style="color: #008080;">40</span>     <span style="color: #008000;">*/</span> 
<span style="color: #008080;">41</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span> listfile(File file,Map&lt;String,String&gt;<span style="color: #000000;"> map){
</span><span style="color: #008080;">42</span>         <span style="color: #008000;">//</span><span style="color: #008000;">如果file代表的不是一个文件，而是一个目录</span>
<span style="color: #008080;">43</span>         <span style="color: #0000ff;">if</span>(!<span style="color: #000000;">file.isFile()){
</span><span style="color: #008080;">44</span>             <span style="color: #008000;">//</span><span style="color: #008000;">列出该目录下的所有文件和目录</span>
<span style="color: #008080;">45</span>             File files[] =<span style="color: #000000;"> file.listFiles();
</span><span style="color: #008080;">46</span>             <span style="color: #008000;">//</span><span style="color: #008000;">遍历files[]数组</span>
<span style="color: #008080;">47</span>             <span style="color: #0000ff;">for</span><span style="color: #000000;">(File f : files){
</span><span style="color: #008080;">48</span>                 <span style="color: #008000;">//</span><span style="color: #008000;">递归</span>
<span style="color: #008080;">49</span> <span style="color: #000000;">                listfile(f,map);
</span><span style="color: #008080;">50</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">51</span>         }<span style="color: #0000ff;">else</span><span style="color: #000000;">{
</span><span style="color: #008080;">52</span>             <span style="color: #008000;">/**</span>
<span style="color: #008080;">53</span> <span style="color: #008000;">             * 处理文件名，上传后的文件是以uuid_文件名的形式去重新命名的，去除文件名的uuid_部分
</span><span style="color: #008080;">54</span> <span style="color: #008000;">                file.getName().indexOf("_")检索字符串中第一次出现"_"字符的位置，如果文件名类似于：9349249849-88343-8344_阿_凡_达.avi
</span><span style="color: #008080;">55</span> <span style="color: #008000;">                那么file.getName().substring(file.getName().indexOf("_")+1)处理之后就可以得到阿_凡_达.avi部分
</span><span style="color: #008080;">56</span>              <span style="color: #008000;">*/</span>
<span style="color: #008080;">57</span>             String realName = file.getName().substring(file.getName().indexOf("_")+1<span style="color: #000000;">);
</span><span style="color: #008080;">58</span>             <span style="color: #008000;">//</span><span style="color: #008000;">file.getName()得到的是文件的原始名称，这个名称是唯一的，因此可以作为key，realName是处理过后的名称，有可能会重复</span>
<span style="color: #008080;">59</span> <span style="color: #000000;">            map.put(file.getName(), realName);
</span><span style="color: #008080;">60</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">61</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">62</span>     
<span style="color: #008080;">63</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> doPost(HttpServletRequest request, HttpServletResponse response)
</span><span style="color: #008080;">64</span>             <span style="color: #0000ff;">throws</span><span style="color: #000000;"> ServletException, IOException {
</span><span style="color: #008080;">65</span> <span style="color: #000000;">        doGet(request, response);
</span><span style="color: #008080;">66</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">67</span> }</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>　　这里简单说一下ListFileServlet中listfile方法，listfile方法是用来列出目录下的所有文件的，listfile方法内部用到了递归，在实际开发当中，我们肯定会在数据库创建一张表，里面会存储上传的文件名以及文件的具体存放目录，我们通过查询表就可以知道文件的具体存放目录，是不需要用到递归操作的，这个例子是因为没有使用数据库存储上传的文件名和文件的具体存放位置，而上传文件的存放位置又使用了散列算法打散存放，所以需要用到递归，在递归时，将获取到的文件名存放到从外面传递到listfile方法里面的Map集合当中，这样就可以保证所有的文件都存放在同一个Map集合当中。</p>
<p>　　在Web.xml文件中配置ListFileServlet</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #008080;">1</span> <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">servlet</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">2</span>      <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">servlet-name</span><span style="color: #0000ff;">&gt;</span>ListFileServlet<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">servlet-name</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">3</span>      <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">servlet-class</span><span style="color: #0000ff;">&gt;</span>me.gacl.web.controller.ListFileServlet<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">servlet-class</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">4</span> <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">servlet</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">5</span>  
<span style="color: #008080;">6</span> <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">servlet-mapping</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">7</span>      <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">servlet-name</span><span style="color: #0000ff;">&gt;</span>ListFileServlet<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">servlet-name</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">8</span>     <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">url-pattern</span><span style="color: #0000ff;">&gt;</span>/servlet/ListFileServlet<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">url-pattern</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">9</span> <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">servlet-mapping</span><span style="color: #0000ff;">&gt;</span>    </pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>　　展示下载文件的listfile.jsp页面如下：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #008080;"> 1</span> <span style="background-color: #ffff00; color: #000000;">&lt;%</span><span style="background-color: #f5f5f5; color: #000000;">@ page language</span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #800000;">"</span><span style="background-color: #f5f5f5; color: #800000;">java</span><span style="background-color: #f5f5f5; color: #800000;">"</span><span style="background-color: #f5f5f5; color: #000000;"> import</span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #800000;">"</span><span style="background-color: #f5f5f5; color: #800000;">java.util.*</span><span style="background-color: #f5f5f5; color: #800000;">"</span><span style="background-color: #f5f5f5; color: #000000;"> pageEncoding</span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #800000;">"</span><span style="background-color: #f5f5f5; color: #800000;">UTF-8</span><span style="background-color: #f5f5f5; color: #800000;">"</span><span style="background-color: #ffff00; color: #000000;">%&gt;</span>
<span style="color: #008080;"> 2</span> <span style="background-color: #ffff00; color: #000000;">&lt;%</span><span style="background-color: #f5f5f5; color: #000000;">@taglib prefix</span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #800000;">"</span><span style="background-color: #f5f5f5; color: #800000;">c</span><span style="background-color: #f5f5f5; color: #800000;">"</span><span style="background-color: #f5f5f5; color: #000000;"> uri</span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #800000;">"</span><span style="background-color: #f5f5f5; color: #800000;">http://java.sun.com/jsp/jstl/core</span><span style="background-color: #f5f5f5; color: #800000;">"</span> <span style="background-color: #ffff00; color: #000000;">%&gt;</span>
<span style="color: #008080;"> 3</span> <span style="color: #0000ff;">&lt;!</span><span style="color: #ff00ff;">DOCTYPE HTML</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;"> 4</span> <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">html</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;"> 5</span>   <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">head</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;"> 6</span>     <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">title</span><span style="color: #0000ff;">&gt;</span>下载文件显示页面<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">title</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;"> 7</span>   <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">head</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;"> 8</span>   
<span style="color: #008080;"> 9</span>   <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">body</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">10</span>       <span style="color: #008000;">&lt;!--</span><span style="color: #008000;"> 遍历Map集合 </span><span style="color: #008000;">--&gt;</span>
<span style="color: #008080;">11</span>     <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">c:forEach </span><span style="color: #ff0000;">var</span><span style="color: #0000ff;">="me"</span><span style="color: #ff0000;"> items</span><span style="color: #0000ff;">="${fileNameMap}"</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">12</span>         <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">c:url </span><span style="color: #ff0000;">value</span><span style="color: #0000ff;">="/servlet/DownLoadServlet"</span><span style="color: #ff0000;"> var</span><span style="color: #0000ff;">="downurl"</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">13</span>             <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">c:param </span><span style="color: #ff0000;">name</span><span style="color: #0000ff;">="filename"</span><span style="color: #ff0000;"> value</span><span style="color: #0000ff;">="${me.key}"</span><span style="color: #0000ff;">&gt;&lt;/</span><span style="color: #800000;">c:param</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">14</span>         <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">c:url</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">15</span>         ${me.value}<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">a </span><span style="color: #ff0000;">href</span><span style="color: #0000ff;">="${downurl}"</span><span style="color: #0000ff;">&gt;</span>下载<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">a</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">16</span>         <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">br</span><span style="color: #0000ff;">/&gt;</span>
<span style="color: #008080;">17</span>     <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">c:forEach</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">18</span>   <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">body</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">19</span> <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">html</span><span style="color: #0000ff;">&gt;</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>　　访问ListFileServlet，就可以在listfile.jsp页面中显示提供给用户下载的文件资源，如下图所示：</p>
<p>　　<img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/042244025759891.png" alt=""></p>
<h3 id="blogTitle7">3.2、实现文件下载</h3>
<p>　　编写一个用于处理文件下载的Servlet，DownLoadServlet的代码如下：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">package</span><span style="color: #000000;"> me.gacl.web.controller;
</span><span style="color: #008080;"> 2</span> 
<span style="color: #008080;"> 3</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.io.File;
</span><span style="color: #008080;"> 4</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.io.FileInputStream;
</span><span style="color: #008080;"> 5</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.io.IOException;
</span><span style="color: #008080;"> 6</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.io.OutputStream;
</span><span style="color: #008080;"> 7</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.net.URLEncoder;
</span><span style="color: #008080;"> 8</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> javax.servlet.ServletException;
</span><span style="color: #008080;"> 9</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> javax.servlet.http.HttpServlet;
</span><span style="color: #008080;">10</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> javax.servlet.http.HttpServletRequest;
</span><span style="color: #008080;">11</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> javax.servlet.http.HttpServletResponse;
</span><span style="color: #008080;">12</span> 
<span style="color: #008080;">13</span> <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span> DownLoadServlet <span style="color: #0000ff;">extends</span><span style="color: #000000;"> HttpServlet {
</span><span style="color: #008080;">14</span> 
<span style="color: #008080;">15</span>     
<span style="color: #008080;">16</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> doGet(HttpServletRequest request, HttpServletResponse response)
</span><span style="color: #008080;">17</span>             <span style="color: #0000ff;">throws</span><span style="color: #000000;"> ServletException, IOException {
</span><span style="color: #008080;">18</span>         <span style="color: #008000;">//</span><span style="color: #008000;">得到要下载的文件名</span>
<span style="color: #008080;">19</span>         String fileName = request.getParameter("filename");  <span style="color: #008000;">//</span><span style="color: #008000;">23239283-92489-阿凡达.avi</span>
<span style="color: #008080;">20</span>         fileName = <span style="color: #0000ff;">new</span> String(fileName.getBytes("iso8859-1"),"UTF-8"<span style="color: #000000;">);
</span><span style="color: #008080;">21</span>         <span style="color: #008000;">//</span><span style="color: #008000;">上传的文件都是保存在/WEB-INF/upload目录下的子目录当中</span>
<span style="color: #008080;">22</span>         String fileSaveRootPath=<span style="color: #0000ff;">this</span>.getServletContext().getRealPath("/WEB-INF/upload"<span style="color: #000000;">);
</span><span style="color: #008080;">23</span>         <span style="color: #008000;">//</span><span style="color: #008000;">通过文件名找出文件的所在目录</span>
<span style="color: #008080;">24</span>         String path =<span style="color: #000000;"> findFileSavePathByFileName(fileName,fileSaveRootPath);
</span><span style="color: #008080;">25</span>         <span style="color: #008000;">//</span><span style="color: #008000;">得到要下载的文件</span>
<span style="color: #008080;">26</span>         File file = <span style="color: #0000ff;">new</span> File(path + "\\" +<span style="color: #000000;"> fileName);
</span><span style="color: #008080;">27</span>         <span style="color: #008000;">//</span><span style="color: #008000;">如果文件不存在</span>
<span style="color: #008080;">28</span>         <span style="color: #0000ff;">if</span>(!<span style="color: #000000;">file.exists()){
</span><span style="color: #008080;">29</span>             request.setAttribute("message", "您要下载的资源已被删除！！"<span style="color: #000000;">);
</span><span style="color: #008080;">30</span>             request.getRequestDispatcher("/message.jsp"<span style="color: #000000;">).forward(request, response);
</span><span style="color: #008080;">31</span>             <span style="color: #0000ff;">return</span><span style="color: #000000;">;
</span><span style="color: #008080;">32</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">33</span>         <span style="color: #008000;">//</span><span style="color: #008000;">处理文件名</span>
<span style="color: #008080;">34</span>         String realname = fileName.substring(fileName.indexOf("_")+1<span style="color: #000000;">);
</span><span style="color: #008080;">35</span>         <span style="color: #008000;">//</span><span style="color: #008000;">设置响应头，控制浏览器下载该文件</span>
<span style="color: #008080;">36</span>         response.setHeader("content-disposition", "attachment;filename=" + URLEncoder.encode(realname, "UTF-8"<span style="color: #000000;">));
</span><span style="color: #008080;">37</span>         <span style="color: #008000;">//</span><span style="color: #008000;">读取要下载的文件，保存到文件输入流</span>
<span style="color: #008080;">38</span>         FileInputStream in = <span style="color: #0000ff;">new</span> FileInputStream(path + "\\" +<span style="color: #000000;"> fileName);
</span><span style="color: #008080;">39</span>         <span style="color: #008000;">//</span><span style="color: #008000;">创建输出流</span>
<span style="color: #008080;">40</span>         OutputStream out =<span style="color: #000000;"> response.getOutputStream();
</span><span style="color: #008080;">41</span>         <span style="color: #008000;">//</span><span style="color: #008000;">创建缓冲区</span>
<span style="color: #008080;">42</span>         <span style="color: #0000ff;">byte</span> buffer[] = <span style="color: #0000ff;">new</span> <span style="color: #0000ff;">byte</span>[1024<span style="color: #000000;">];
</span><span style="color: #008080;">43</span>         <span style="color: #0000ff;">int</span> len = 0<span style="color: #000000;">;
</span><span style="color: #008080;">44</span>         <span style="color: #008000;">//</span><span style="color: #008000;">循环将输入流中的内容读取到缓冲区当中</span>
<span style="color: #008080;">45</span>         <span style="color: #0000ff;">while</span>((len=in.read(buffer))&gt;0<span style="color: #000000;">){
</span><span style="color: #008080;">46</span>             <span style="color: #008000;">//</span><span style="color: #008000;">输出缓冲区的内容到浏览器，实现文件下载</span>
<span style="color: #008080;">47</span>             out.write(buffer, 0<span style="color: #000000;">, len);
</span><span style="color: #008080;">48</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">49</span>         <span style="color: #008000;">//</span><span style="color: #008000;">关闭文件输入流</span>
<span style="color: #008080;">50</span> <span style="color: #000000;">        in.close();
</span><span style="color: #008080;">51</span>         <span style="color: #008000;">//</span><span style="color: #008000;">关闭输出流</span>
<span style="color: #008080;">52</span> <span style="color: #000000;">        out.close();
</span><span style="color: #008080;">53</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">54</span>     
<span style="color: #008080;">55</span>     <span style="color: #008000;">/**</span>
<span style="color: #008080;">56</span> <span style="color: #008000;">    * @Method: findFileSavePathByFileName
</span><span style="color: #008080;">57</span> <span style="color: #008000;">    * @Description: 通过文件名和存储上传文件根目录找出要下载的文件的所在路径
</span><span style="color: #008080;">58</span> <span style="color: #008000;">    * @Anthor:孤傲苍狼
</span><span style="color: #008080;">59</span> <span style="color: #008000;">    * </span><span style="color: #808080;">@param</span><span style="color: #008000;"> filename 要下载的文件名
</span><span style="color: #008080;">60</span> <span style="color: #008000;">    * </span><span style="color: #808080;">@param</span><span style="color: #008000;"> saveRootPath 上传文件保存的根目录，也就是/WEB-INF/upload目录
</span><span style="color: #008080;">61</span> <span style="color: #008000;">    * </span><span style="color: #808080;">@return</span><span style="color: #008000;"> 要下载的文件的存储目录
</span><span style="color: #008080;">62</span>     <span style="color: #008000;">*/</span> 
<span style="color: #008080;">63</span>     <span style="color: #0000ff;">public</span><span style="color: #000000;"> String findFileSavePathByFileName(String filename,String saveRootPath){
</span><span style="color: #008080;">64</span>         <span style="color: #0000ff;">int</span> hashcode =<span style="color: #000000;"> filename.hashCode();
</span><span style="color: #008080;">65</span>         <span style="color: #0000ff;">int</span> dir1 = hashcode&amp;0xf;  <span style="color: #008000;">//</span><span style="color: #008000;">0--15</span>
<span style="color: #008080;">66</span>         <span style="color: #0000ff;">int</span> dir2 = (hashcode&amp;0xf0)&gt;&gt;4;  <span style="color: #008000;">//</span><span style="color: #008000;">0-15</span>
<span style="color: #008080;">67</span>         String dir = saveRootPath + "\\" + dir1 + "\\" + dir2;  <span style="color: #008000;">//</span><span style="color: #008000;">upload\2\3  upload\3\5</span>
<span style="color: #008080;">68</span>         File file = <span style="color: #0000ff;">new</span><span style="color: #000000;"> File(dir);
</span><span style="color: #008080;">69</span>         <span style="color: #0000ff;">if</span>(!<span style="color: #000000;">file.exists()){
</span><span style="color: #008080;">70</span>             <span style="color: #008000;">//</span><span style="color: #008000;">创建目录</span>
<span style="color: #008080;">71</span> <span style="color: #000000;">            file.mkdirs();
</span><span style="color: #008080;">72</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">73</span>         <span style="color: #0000ff;">return</span><span style="color: #000000;"> dir;
</span><span style="color: #008080;">74</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">75</span>     
<span style="color: #008080;">76</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> doPost(HttpServletRequest request, HttpServletResponse response)
</span><span style="color: #008080;">77</span>             <span style="color: #0000ff;">throws</span><span style="color: #000000;"> ServletException, IOException {
</span><span style="color: #008080;">78</span> <span style="color: #000000;">        doGet(request, response);
</span><span style="color: #008080;">79</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">80</span> }</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>　　在Web.xml文件中配置DownLoadServlet</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #008080;">1</span> <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">servlet</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">2</span>       <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">servlet-name</span><span style="color: #0000ff;">&gt;</span>DownLoadServlet<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">servlet-name</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">3</span>       <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">servlet-class</span><span style="color: #0000ff;">&gt;</span>me.gacl.web.controller.DownLoadServlet<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">servlet-class</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">4</span> <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">servlet</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">5</span>  
<span style="color: #008080;">6</span> <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">servlet-mapping</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">7</span>       <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">servlet-name</span><span style="color: #0000ff;">&gt;</span>DownLoadServlet<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">servlet-name</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">8</span>       <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">url-pattern</span><span style="color: #0000ff;">&gt;</span>/servlet/DownLoadServlet<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">url-pattern</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">9</span> <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">servlet-mapping</span><span style="color: #0000ff;">&gt;</span>    </pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>　　点击【下载】超链接，将请求提交到DownLoadServlet就行处理就可以实现文件下载了，运行效果如下图所示：</p>
<p>　　<img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/042303382789974.gif" alt=""></p>
<p>　　从运行结果可以看到，我们的文件下载功能已经可以正常下载文件了。</p>
<p>　　关于JavaWeb中的文件上传和下载功能的内容就这么多。</p></div><div id="MySignature"></div>
<div class="clear"></div>
<div id="blog_post_info_block">
<div id="BlogPostCategory">分类: <a href="http://www.cnblogs.com/xdp-gacl/category/574705.html">JavaWeb学习总结</a></div>
<div id="EntryTag">标签: <a href="http://www.cnblogs.com/xdp-gacl/tag/JavaWeb%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/">JavaWeb学习总结</a></div>
<div id="blog_post_info"><div id="green_channel">
<a href="javascript:void(0);" id="green_channel_digg" onclick="DiggIt(4200090,cb_blogId,1);green_channel_success(this,&#39;谢谢推荐！&#39;);">好文要顶</a>
<a id="green_channel_follow" onclick="c_follow();" href="javascript:void(0);">关注我</a>
<a id="green_channel_favorite" onclick="AddToWz(cb_entryId);return false;" href="javascript:void(0);">收藏该文</a><a id="green_channel_contact" href="http://msg.cnblogs.com/send/%E5%AD%A4%E5%82%B2%E8%8B%8D%E7%8B%BC" target="_blank">联系我</a>
<a id="green_channel_weibo" href="javascript:void(0);" title="分享至新浪微博" onclick="ShareToTsina()"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/icon_weibo_24.png" alt=""></a>
<a id="green_channel_wechat" href="javascript:void(0);" title="分享至微信" onclick="shareOnWechat()"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/wechat.png" alt=""></a>
</div>
<div id="author_profile">
<div id="author_profile_info" class="author_profile_info">
<a href="http://home.cnblogs.com/u/xdp-gacl/" target="_blank"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/20160221223904.png" class="author_avatar" alt=""></a>
<div id="author_profile_detail" class="author_profile_info">
<a href="http://home.cnblogs.com/u/xdp-gacl/">孤傲苍狼</a><br>
<a href="http://home.cnblogs.com/u/xdp-gacl/followees">关注 - 83</a><br>
<a href="http://home.cnblogs.com/u/xdp-gacl/followers">粉丝 - 4889</a>
</div>
</div>
<div class="clear"></div>
<div id="author_profile_honor"></div>
<div id="author_profile_follow">
    <a href="javascript:void(0);" onclick="c_follow();return false;">+加关注</a>
</div>
</div>
<div id="div_digg">										
    <div class="diggit" onclick="votePost(4200090,&#39;Digg&#39;)">
        <span class="diggnum" id="digg_count">47</span>
    </div>
	<div class="buryit" onclick="votePost(4200090,&#39;Bury&#39;)"> 
		<span class="burynum" id="bury_count">0</span>
	</div>
	<div class="clear"></div>	
	<div class="diggword" id="digg_tips">
    (请您对文章做出评价)
    </div>	
</div>
</div>
<div class="clear"></div>
<div id="post_next_prev"><a href="http://www.cnblogs.com/xdp-gacl/p/4201094.html" class="p_n_p_prefix">« </a> 上一篇：<a href="http://www.cnblogs.com/xdp-gacl/p/4201094.html" title="发布于2015-01-04 17:31">WebLogic使用总结(三)——WebLogic配置JNDI数据源</a><br><a href="http://www.cnblogs.com/xdp-gacl/p/4212070.html" class="p_n_p_prefix">» </a> 下一篇：<a href="http://www.cnblogs.com/xdp-gacl/p/4212070.html" title="发布于2015-01-08 22:49">win8操作系统下使用telnet客户端</a><br></div>
</div>

</div>
    <p class="postfoot">posted on <span id="post-date">2015-01-05 11:16</span> <a href="http://www.cnblogs.com/xdp-gacl/">孤傲苍狼</a> 阅读(<span id="post_view_count">100174</span>) 评论(<span id="post_comment_count">80</span>)  <a href="http://i.cnblogs.com/EditPosts.aspx?postid=4200090" rel="nofollow">编辑</a> <a href="http://www.cnblogs.com/xdp-gacl/p/4200090.html#" onclick="AddToWz(4200090);return false;">收藏</a></p>
</div>
<script type="text/javascript">var allowComments=true,isLogined=false,cb_blogId=133816,cb_entryId=4200090,cb_blogApp=currentBlogApp,cb_blogUserGuid='f1774468-815f-e011-a53f-842b2b196315',cb_entryCreatedDate='2015/1/5 11:16:00';loadViewCount(cb_entryId);</script>

</div><a name="!comments"></a><div id="blog-comments-placeholder"><div id="comments_pager_top"><div class="pager"><a href="http://www.cnblogs.com/xdp-gacl/p/4200090.html#!comments" onclick="commentManager.renderComments(1,50);return false;">&lt; Prev</a><a href="http://www.cnblogs.com/xdp-gacl/p/4200090.html#!comments" onclick="commentManager.renderComments(1,50);return false;">1</a><span class="current">2</span></div></div>
<a name="评论"></a>
<div id="comments">
<h3>评论</h3>
	
	
			<h4>
				<a href="http://www.cnblogs.com/xdp-gacl/p/4200090.html#3354493" class="layer">#51楼</a><a name="3354493" id="comment_anchor_3354493"></a>
					<span>
						 <span class="comment_date">2016-01-26 17:52</span>
					</span>
				<a id="a_comment_author_3354493" href="http://home.cnblogs.com/u/875148/" target="_blank">淡淡地巨蟹</a> <a href="http://msg.cnblogs.com/send/%E6%B7%A1%E6%B7%A1%E5%9C%B0%E5%B7%A8%E8%9F%B9" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</h4>
			<p>
				</p><div id="comment_body_3354493" class="blog_comment_body"><div class="list"><table class="out" border="0" cellspacing="0" cellpadding="0"> <tbody><tr><td class="icontd" align="right" valign="bottom"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/20131202131125.png" width="70px" height="57px"></td><td align="left" valign="bottom" class="q"><table border="0" cellpadding="0" cellspacing="0" style=""> <tbody><tr><td class="topleft"></td><td class="top"></td><td class="topright"></td></tr> <tr><td class="left"></td> <td align="left" class="conmts"><p>博主，关注您好久了，我照着您写的，一模一样，怎么我找不到我上传的文件呢？显示上传成功，但是找不到</p> </td> <td class="right"></td></tr> <tr><td class="bottomleft"></td><td class="bottom"></td><td class="bottomright"></td></tr> </tbody></table></td> </tr> </tbody></table> </div></div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3354493,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3354493,&#39;Bury&#39;,this)">反对(0)</a></div>
				&nbsp;&nbsp;<span class="comment_actions"></span>
			<p></p>
		
			<h4>
				<a href="http://www.cnblogs.com/xdp-gacl/p/4200090.html#3354497" class="layer">#52楼</a><a name="3354497" id="comment_anchor_3354497"></a>
					<span>
						 <span class="comment_date">2016-01-26 17:54</span>
					</span>
				<a id="a_comment_author_3354497" href="http://home.cnblogs.com/u/875148/" target="_blank">淡淡地巨蟹</a> <a href="http://msg.cnblogs.com/send/%E6%B7%A1%E6%B7%A1%E5%9C%B0%E5%B7%A8%E8%9F%B9" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</h4>
			<p>
				</p><div id="comment_body_3354497" class="blog_comment_body"><div class="list"><table class="out" border="0" cellspacing="0" cellpadding="0"> <tbody><tr><td class="icontd" align="right" valign="bottom"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/20131202131125.png" width="70px" height="57px"></td><td align="left" valign="bottom" class="q"><table border="0" cellpadding="0" cellspacing="0" style=""> <tbody><tr><td class="topleft"></td><td class="top"></td><td class="topright"></td></tr> <tr><td class="left"></td> <td align="left" class="conmts"><p>@孤傲苍狼 博主，关注您好久了，我照着您写的，一模一样，怎么我找不到我上传的文件呢？显示上传成功，但是找不到</p> </td> <td class="right"></td></tr> <tr><td class="bottomleft"></td><td class="bottom"></td><td class="bottomright"></td></tr> </tbody></table></td> </tr> </tbody></table> </div></div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3354497,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3354497,&#39;Bury&#39;,this)">反对(0)</a></div>
				&nbsp;&nbsp;<span class="comment_actions"></span>
			<p></p>
		
			<h4>
				<a href="http://www.cnblogs.com/xdp-gacl/p/4200090.html#3356918" class="layer">#53楼</a><a name="3356918" id="comment_anchor_3356918"></a>
					<span>
						 <span class="comment_date">2016-01-30 16:02</span>
					</span>
				<a id="a_comment_author_3356918" href="http://home.cnblogs.com/u/890765/" target="_blank">小影333</a> <a href="http://msg.cnblogs.com/send/%E5%B0%8F%E5%BD%B1333" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</h4>
			<p>
				</p><div id="comment_body_3356918" class="blog_comment_body"><div class="list"><table class="out" border="0" cellspacing="0" cellpadding="0"> <tbody><tr><td class="icontd" align="right" valign="bottom"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/20131202131125.png" width="70px" height="57px"></td><td align="left" valign="bottom" class="q"><table border="0" cellpadding="0" cellspacing="0" style=""> <tbody><tr><td class="topleft"></td><td class="top"></td><td class="topright"></td></tr> <tr><td class="left"></td> <td align="left" class="conmts"><p><a href="http://www.cnblogs.com/xdp-gacl/p/4200090.html#3354493" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3354493);">@</a>
淡淡地巨蟹<br>兄弟，上传的文件不在源代码目录下，在tomcat部署的目录下</p> </td> <td class="right"></td></tr> <tr><td class="bottomleft"></td><td class="bottom"></td><td class="bottomright"></td></tr> </tbody></table></td> </tr> </tbody></table> </div></div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3356918,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3356918,&#39;Bury&#39;,this)">反对(0)</a></div>
				&nbsp;&nbsp;<span class="comment_actions"></span>
			<p></p>
		
			<h4>
				<a href="http://www.cnblogs.com/xdp-gacl/p/4200090.html#3356919" class="layer">#54楼</a><a name="3356919" id="comment_anchor_3356919"></a>
					<span>
						 <span class="comment_date">2016-01-30 16:04</span>
					</span>
				<a id="a_comment_author_3356919" href="http://home.cnblogs.com/u/875148/" target="_blank">淡淡地巨蟹</a> <a href="http://msg.cnblogs.com/send/%E6%B7%A1%E6%B7%A1%E5%9C%B0%E5%B7%A8%E8%9F%B9" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</h4>
			<p>
				</p><div id="comment_body_3356919" class="blog_comment_body"><div class="list"><table class="out" border="0" cellspacing="0" cellpadding="0"> <tbody><tr><td class="icontd" align="right" valign="bottom"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/20131202131125.png" width="70px" height="57px"></td><td align="left" valign="bottom" class="q"><table border="0" cellpadding="0" cellspacing="0" style=""> <tbody><tr><td class="topleft"></td><td class="top"></td><td class="topright"></td></tr> <tr><td class="left"></td> <td align="left" class="conmts"><p><a href="http://www.cnblogs.com/xdp-gacl/p/4200090.html#3356918" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3356918);">@</a>
小影333<br>恩恩，已经解决了，上传到服务器的</p> </td> <td class="right"></td></tr> <tr><td class="bottomleft"></td><td class="bottom"></td><td class="bottomright"></td></tr> </tbody></table></td> </tr> </tbody></table> </div></div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3356919,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3356919,&#39;Bury&#39;,this)">反对(0)</a></div>
				&nbsp;&nbsp;<span class="comment_actions"></span>
			<p></p>
		
			<h4>
				<a href="http://www.cnblogs.com/xdp-gacl/p/4200090.html#3371186" class="layer">#55楼</a><a name="3371186" id="comment_anchor_3371186"></a>
					<span>
						 <span class="comment_date">2016-03-03 15:43</span>
					</span>
				<a id="a_comment_author_3371186" href="http://home.cnblogs.com/u/676682/" target="_blank">环境</a> <a href="http://msg.cnblogs.com/send/%E7%8E%AF%E5%A2%83" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</h4>
			<p>
				</p><div id="comment_body_3371186" class="blog_comment_body"><div class="list"><table class="out" border="0" cellspacing="0" cellpadding="0"> <tbody><tr><td class="icontd" align="right" valign="bottom"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/20131202131125.png" width="70px" height="57px"></td><td align="left" valign="bottom" class="q"><table border="0" cellpadding="0" cellspacing="0" style=""> <tbody><tr><td class="topleft"></td><td class="top"></td><td class="topright"></td></tr> <tr><td class="left"></td> <td align="left" class="conmts"><p>刚开始在JSP页面少写了一个enctype="multipart/form-data"，一直报错，后来发现了，改了错误后，上传成功了，赞一个。</p> </td> <td class="right"></td></tr> <tr><td class="bottomleft"></td><td class="bottom"></td><td class="bottomright"></td></tr> </tbody></table></td> </tr> </tbody></table> </div></div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3371186,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3371186,&#39;Bury&#39;,this)">反对(0)</a></div>
				&nbsp;&nbsp;<span class="comment_actions"></span>
			<p></p>
		
			<h4>
				<a href="http://www.cnblogs.com/xdp-gacl/p/4200090.html#3371916" class="layer">#56楼</a><a name="3371916" id="comment_anchor_3371916"></a>
					<span>
						 <span class="comment_date">2016-03-04 14:12</span>
					</span>
				<a id="a_comment_author_3371916" href="http://www.cnblogs.com/OnlyCT/" target="_blank">Only丨惟一</a> <a href="http://msg.cnblogs.com/send/Only%E4%B8%A8%E6%83%9F%E4%B8%80" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</h4>
			<p>
				</p><div id="comment_body_3371916" class="blog_comment_body"><div class="list"><table class="out" border="0" cellspacing="0" cellpadding="0"> <tbody><tr><td class="icontd" align="right" valign="bottom"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/20131202131125.png" width="70px" height="57px"></td><td align="left" valign="bottom" class="q"><table border="0" cellpadding="0" cellspacing="0" style=""> <tbody><tr><td class="topleft"></td><td class="top"></td><td class="topright"></td></tr> <tr><td class="left"></td> <td align="left" class="conmts"><p>非常不错！</p> </td> <td class="right"></td></tr> <tr><td class="bottomleft"></td><td class="bottom"></td><td class="bottomright"></td></tr> </tbody></table></td> </tr> </tbody></table> </div></div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3371916,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3371916,&#39;Bury&#39;,this)">反对(0)</a></div>
				&nbsp;&nbsp;<span class="comment_actions"></span>
			<p></p>
		
			<h4>
				<a href="http://www.cnblogs.com/xdp-gacl/p/4200090.html#3371922" class="layer">#57楼</a><a name="3371922" id="comment_anchor_3371922"></a>
					<span>
						 <span class="comment_date">2016-03-04 14:19</span>
					</span>
				<a id="a_comment_author_3371922" href="http://www.cnblogs.com/OnlyCT/" target="_blank">Only丨惟一</a> <a href="http://msg.cnblogs.com/send/Only%E4%B8%A8%E6%83%9F%E4%B8%80" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</h4>
			<p>
				</p><div id="comment_body_3371922" class="blog_comment_body"><div class="list"><table class="out" border="0" cellspacing="0" cellpadding="0"> <tbody><tr><td class="icontd" align="right" valign="bottom"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/20131202131125.png" width="70px" height="57px"></td><td align="left" valign="bottom" class="q"><table border="0" cellpadding="0" cellspacing="0" style=""> <tbody><tr><td class="topleft"></td><td class="top"></td><td class="topright"></td></tr> <tr><td class="left"></td> <td align="left" class="conmts"><p>想问一下，当报异常了就不能跳转到message.jsp页面，这是为什么。还有我只传一个大于10M的文件提示两次SizeLimitExceededException，不应该是先FileSizeLimitExceededException，然后SizeLimitExceededException吗。这两个异常应该是平级关系啊！</p> </td> <td class="right"></td></tr> <tr><td class="bottomleft"></td><td class="bottom"></td><td class="bottomright"></td></tr> </tbody></table></td> </tr> </tbody></table> </div></div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3371922,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3371922,&#39;Bury&#39;,this)">反对(0)</a></div>
				&nbsp;&nbsp;<span class="comment_actions"></span>
			<p></p>
		
			<h4>
				<a href="http://www.cnblogs.com/xdp-gacl/p/4200090.html#3373924" class="layer">#58楼</a><a name="3373924" id="comment_anchor_3373924"></a>
					<span>
						 <span class="comment_date">2016-03-07 22:05</span>
					</span>
				<a id="a_comment_author_3373924" href="http://www.cnblogs.com/23jun/" target="_blank">只为向你学习</a> <a href="http://msg.cnblogs.com/send/%E5%8F%AA%E4%B8%BA%E5%90%91%E4%BD%A0%E5%AD%A6%E4%B9%A0" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</h4>
			<p>
				</p><div id="comment_body_3373924" class="blog_comment_body"><div class="list"><table class="out" border="0" cellspacing="0" cellpadding="0"> <tbody><tr><td class="icontd" align="right" valign="bottom"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/20131202131125.png" width="70px" height="57px"></td><td align="left" valign="bottom" class="q"><table border="0" cellpadding="0" cellspacing="0" style=""> <tbody><tr><td class="topleft"></td><td class="top"></td><td class="topright"></td></tr> <tr><td class="left"></td> <td align="left" class="conmts"><p>博主你好，为什么我运行你的代码总是到 if(!ServletFileUpload.isMultipartContent(request)){<br>		                    	System.out.println("存在");<br>		                        //按照传统方式获取数据<br>		                        return;<br>		                    }<br>然后不能跳转的任何页面，求教</p> </td> <td class="right"></td></tr> <tr><td class="bottomleft"></td><td class="bottom"></td><td class="bottomright"></td></tr> </tbody></table></td> </tr> </tbody></table> </div></div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3373924,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3373924,&#39;Bury&#39;,this)">反对(0)</a></div>
				&nbsp;&nbsp;<span class="comment_actions"></span>
			<p></p>
		
			<h4>
				<a href="http://www.cnblogs.com/xdp-gacl/p/4200090.html#3374452" class="layer">#59楼</a><a name="3374452" id="comment_anchor_3374452"></a>
					<span>
						 <span class="comment_date">2016-03-08 11:43</span>
					</span>
				<a id="a_comment_author_3374452" href="http://www.cnblogs.com/nangong/" target="_blank">南宫萧尘</a> <a href="http://msg.cnblogs.com/send/%E5%8D%97%E5%AE%AB%E8%90%A7%E5%B0%98" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</h4>
			<p>
				</p><div id="comment_body_3374452" class="blog_comment_body"><div class="list"><table class="out" border="0" cellspacing="0" cellpadding="0"> <tbody><tr><td class="icontd" align="right" valign="bottom"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/20131202131125.png" width="70px" height="57px"></td><td align="left" valign="bottom" class="q"><table border="0" cellpadding="0" cellspacing="0" style=""> <tbody><tr><td class="topleft"></td><td class="top"></td><td class="topright"></td></tr> <tr><td class="left"></td> <td align="left" class="conmts"><p>感谢，成功做到可以上传文件，谢谢你了。写的很清楚，注释也很明了。</p> </td> <td class="right"></td></tr> <tr><td class="bottomleft"></td><td class="bottom"></td><td class="bottomright"></td></tr> </tbody></table></td> </tr> </tbody></table> </div></div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3374452,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3374452,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_3374452_avatar" style="display:none;">http://pic.cnblogs.com/face/429408/20130828141704.png</span>
				&nbsp;&nbsp;<span class="comment_actions"></span>
			<p></p>
		
			<h4>
				<a href="http://www.cnblogs.com/xdp-gacl/p/4200090.html#3382936" class="layer">#60楼</a><a name="3382936" id="comment_anchor_3382936"></a>
					<span>
						 <span class="comment_date">2016-03-16 17:40</span>
					</span>
				<a id="a_comment_author_3382936" href="http://home.cnblogs.com/u/361964/" target="_blank">树恋蝶</a> <a href="http://msg.cnblogs.com/send/%E6%A0%91%E6%81%8B%E8%9D%B6" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</h4>
			<p>
				</p><div id="comment_body_3382936" class="blog_comment_body"><div class="list"><table class="out" border="0" cellspacing="0" cellpadding="0"> <tbody><tr><td class="icontd" align="right" valign="bottom"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/20131202131125.png" width="70px" height="57px"></td><td align="left" valign="bottom" class="q"><table border="0" cellpadding="0" cellspacing="0" style=""> <tbody><tr><td class="topleft"></td><td class="top"></td><td class="topright"></td></tr> <tr><td class="left"></td> <td align="left" class="conmts"><p>楼主，请问我用spring框架的时候，上传时，进去代码 List&lt;FileItem&gt; list = upload.parseRequest(request);这个的时候获取的list为空，为什么呢？望能大神们回答回答</p> </td> <td class="right"></td></tr> <tr><td class="bottomleft"></td><td class="bottom"></td><td class="bottomright"></td></tr> </tbody></table></td> </tr> </tbody></table> </div></div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3382936,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3382936,&#39;Bury&#39;,this)">反对(0)</a></div>
				&nbsp;&nbsp;<span class="comment_actions"></span>
			<p></p>
		
			<h4>
				<a href="http://www.cnblogs.com/xdp-gacl/p/4200090.html#3382937" class="layer">#61楼</a><a name="3382937" id="comment_anchor_3382937"></a>
					<span>
						 <span class="comment_date">2016-03-16 17:40</span>
					</span>
				<a id="a_comment_author_3382937" href="http://home.cnblogs.com/u/361964/" target="_blank">树恋蝶</a> <a href="http://msg.cnblogs.com/send/%E6%A0%91%E6%81%8B%E8%9D%B6" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</h4>
			<p>
				</p><div id="comment_body_3382937" class="blog_comment_body"><div class="list"><table class="out" border="0" cellspacing="0" cellpadding="0"> <tbody><tr><td class="icontd" align="right" valign="bottom"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/20131202131125.png" width="70px" height="57px"></td><td align="left" valign="bottom" class="q"><table border="0" cellpadding="0" cellspacing="0" style=""> <tbody><tr><td class="topleft"></td><td class="top"></td><td class="topright"></td></tr> <tr><td class="left"></td> <td align="left" class="conmts"><p>楼主，请问我用springmvc框架的时候，上传时，进去代码 List&lt;FileItem&gt; list = upload.parseRequest(request);这个的时候获取的list为空，为什么呢？望能大神们回答回答</p> </td> <td class="right"></td></tr> <tr><td class="bottomleft"></td><td class="bottom"></td><td class="bottomright"></td></tr> </tbody></table></td> </tr> </tbody></table> </div></div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3382937,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3382937,&#39;Bury&#39;,this)">反对(0)</a></div>
				&nbsp;&nbsp;<span class="comment_actions"></span>
			<p></p>
		
			<h4>
				<a href="http://www.cnblogs.com/xdp-gacl/p/4200090.html#3385007" class="layer">#62楼</a><a name="3385007" id="comment_anchor_3385007"></a>
					<span>
						 <span class="comment_date">2016-03-18 18:02</span>
					</span>
				<a id="a_comment_author_3385007" href="http://home.cnblogs.com/u/890765/" target="_blank">小影333</a> <a href="http://msg.cnblogs.com/send/%E5%B0%8F%E5%BD%B1333" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</h4>
			<p>
				</p><div id="comment_body_3385007" class="blog_comment_body"><div class="list"><table class="out" border="0" cellspacing="0" cellpadding="0"> <tbody><tr><td class="icontd" align="right" valign="bottom"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/20131202131125.png" width="70px" height="57px"></td><td align="left" valign="bottom" class="q"><table border="0" cellpadding="0" cellspacing="0" style=""> <tbody><tr><td class="topleft"></td><td class="top"></td><td class="topright"></td></tr> <tr><td class="left"></td> <td align="left" class="conmts"><p><a href="http://www.cnblogs.com/xdp-gacl/p/4200090.html#3341465" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3341465);">@</a>
hnust_xiehonghao<br>你好，请问下载的功能你实现了吗？我的有一些问题，希望能够给我一些帮助。</p> </td> <td class="right"></td></tr> <tr><td class="bottomleft"></td><td class="bottom"></td><td class="bottomright"></td></tr> </tbody></table></td> </tr> </tbody></table> </div></div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3385007,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3385007,&#39;Bury&#39;,this)">反对(0)</a></div>
				&nbsp;&nbsp;<span class="comment_actions"></span>
			<p></p>
		
			<h4>
				<a href="http://www.cnblogs.com/xdp-gacl/p/4200090.html#3391509" class="layer">#63楼</a><a name="3391509" id="comment_anchor_3391509"></a>
					<span>
						 <span class="comment_date">2016-03-25 09:16</span>
					</span>
				<a id="a_comment_author_3391509" href="http://www.cnblogs.com/IwAdream/" target="_blank">2013551723段超凡</a> <a href="http://msg.cnblogs.com/send/2013551723%E6%AE%B5%E8%B6%85%E5%87%A1" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</h4>
			<p>
				</p><div id="comment_body_3391509" class="blog_comment_body"><div class="list"><table class="out" border="0" cellspacing="0" cellpadding="0"> <tbody><tr><td class="icontd" align="right" valign="bottom"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/20131202131125.png" width="70px" height="57px"></td><td align="left" valign="bottom" class="q"><table border="0" cellpadding="0" cellspacing="0" style=""> <tbody><tr><td class="topleft"></td><td class="top"></td><td class="topright"></td></tr> <tr><td class="left"></td> <td align="left" class="conmts"><p>想问一下为什么我下载的时候提示的文件名是乱码的<br><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/734889-20160325091613933-324548876.png" alt="" border="0" "=""></p> </td> <td class="right"></td></tr> <tr><td class="bottomleft"></td><td class="bottom"></td><td class="bottomright"></td></tr> </tbody></table></td> </tr> </tbody></table> </div></div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3391509,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3391509,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_3391509_avatar" style="display:none;">http://pic.cnblogs.com/face/734889/20151204193607.png</span>
				&nbsp;&nbsp;<span class="comment_actions"></span>
			<p></p>
		
			<h4>
				<a href="http://www.cnblogs.com/xdp-gacl/p/4200090.html#3397993" class="layer">#64楼</a><a name="3397993" id="comment_anchor_3397993"></a>
					<span>
						 <span class="comment_date">2016-04-01 15:26</span>
					</span>
				<a id="a_comment_author_3397993" href="http://home.cnblogs.com/u/923220/" target="_blank">恐高的鸟</a> <a href="http://msg.cnblogs.com/send/%E6%81%90%E9%AB%98%E7%9A%84%E9%B8%9F" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</h4>
			<p>
				</p><div id="comment_body_3397993" class="blog_comment_body"><div class="list"><table class="out" border="0" cellspacing="0" cellpadding="0"> <tbody><tr><td class="icontd" align="right" valign="bottom"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/20131202131125.png" width="70px" height="57px"></td><td align="left" valign="bottom" class="q"><table border="0" cellpadding="0" cellspacing="0" style=""> <tbody><tr><td class="topleft"></td><td class="top"></td><td class="topright"></td></tr> <tr><td class="left"></td> <td align="left" class="conmts"><p>您好，使用form表单提交文件之后，页面会自动跳转，如何阻止页面的跳转么？</p> </td> <td class="right"></td></tr> <tr><td class="bottomleft"></td><td class="bottom"></td><td class="bottomright"></td></tr> </tbody></table></td> </tr> </tbody></table> </div></div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3397993,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3397993,&#39;Bury&#39;,this)">反对(0)</a></div>
				&nbsp;&nbsp;<span class="comment_actions"></span>
			<p></p>
		
			<h4>
				<a href="http://www.cnblogs.com/xdp-gacl/p/4200090.html#3398925" class="layer">#65楼</a><a name="3398925" id="comment_anchor_3398925"></a>
					<span>
						 <span class="comment_date">2016-04-03 14:46</span>
					</span>
				<a id="a_comment_author_3398925" href="http://home.cnblogs.com/u/761246/" target="_blank">陈依依婷</a> <a href="http://msg.cnblogs.com/send/%E9%99%88%E4%BE%9D%E4%BE%9D%E5%A9%B7" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</h4>
			<p>
				</p><div id="comment_body_3398925" class="blog_comment_body"><div class="list"><table class="out" border="0" cellspacing="0" cellpadding="0"> <tbody><tr><td class="icontd" align="right" valign="bottom"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/20131202131125.png" width="70px" height="57px"></td><td align="left" valign="bottom" class="q"><table border="0" cellpadding="0" cellspacing="0" style=""> <tbody><tr><td class="topleft"></td><td class="top"></td><td class="topright"></td></tr> <tr><td class="left"></td> <td align="left" class="conmts"><p><a href="http://www.cnblogs.com/xdp-gacl/p/4200090.html#3391509" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3391509);">@</a>
2013551723段超凡<br>我也是，你的解决了吗，求解答</p> </td> <td class="right"></td></tr> <tr><td class="bottomleft"></td><td class="bottom"></td><td class="bottomright"></td></tr> </tbody></table></td> </tr> </tbody></table> </div></div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3398925,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3398925,&#39;Bury&#39;,this)">反对(0)</a></div>
				&nbsp;&nbsp;<span class="comment_actions"></span>
			<p></p>
		
			<h4>
				<a href="http://www.cnblogs.com/xdp-gacl/p/4200090.html#3405759" class="layer">#66楼</a><a name="3405759" id="comment_anchor_3405759"></a>
					<span>
						 <span class="comment_date">2016-04-12 11:00</span>
					</span>
				<a id="a_comment_author_3405759" href="http://www.cnblogs.com/IwAdream/" target="_blank">2013551723段超凡</a> <a href="http://msg.cnblogs.com/send/2013551723%E6%AE%B5%E8%B6%85%E5%87%A1" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</h4>
			<p>
				</p><div id="comment_body_3405759" class="blog_comment_body"><div class="list"><table class="out" border="0" cellspacing="0" cellpadding="0"> <tbody><tr><td class="icontd" align="right" valign="bottom"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/20131202131125.png" width="70px" height="57px"></td><td align="left" valign="bottom" class="q"><table border="0" cellpadding="0" cellspacing="0" style=""> <tbody><tr><td class="topleft"></td><td class="top"></td><td class="topright"></td></tr> <tr><td class="left"></td> <td align="left" class="conmts"><p><a href="http://www.cnblogs.com/xdp-gacl/p/4200090.html#3398925" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3398925);">@</a>
陈依依婷<br>没有啊，你现在解决了吗？</p> </td> <td class="right"></td></tr> <tr><td class="bottomleft"></td><td class="bottom"></td><td class="bottomright"></td></tr> </tbody></table></td> </tr> </tbody></table> </div></div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3405759,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3405759,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_3405759_avatar" style="display:none;">http://pic.cnblogs.com/face/734889/20151204193607.png</span>
				&nbsp;&nbsp;<span class="comment_actions"></span>
			<p></p>
		
			<h4>
				<a href="http://www.cnblogs.com/xdp-gacl/p/4200090.html#3406514" class="layer">#67楼</a><a name="3406514" id="comment_anchor_3406514"></a>
					<span>
						 <span class="comment_date">2016-04-12 22:42</span>
					</span>
				<a id="a_comment_author_3406514" href="http://home.cnblogs.com/u/934972/" target="_blank">晨风中的沙0</a> <a href="http://msg.cnblogs.com/send/%E6%99%A8%E9%A3%8E%E4%B8%AD%E7%9A%84%E6%B2%990" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</h4>
			<p>
				</p><div id="comment_body_3406514" class="blog_comment_body"><div class="list"><table class="out" border="0" cellspacing="0" cellpadding="0"> <tbody><tr><td class="icontd" align="right" valign="bottom"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/20131202131125.png" width="70px" height="57px"></td><td align="left" valign="bottom" class="q"><table border="0" cellpadding="0" cellspacing="0" style=""> <tbody><tr><td class="topleft"></td><td class="top"></td><td class="topright"></td></tr> <tr><td class="left"></td> <td align="left" class="conmts"><p><a href="http://www.cnblogs.com/xdp-gacl/p/4200090.html#3398925" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3398925);">@</a>
陈依依婷<br>@2013551723段超凡<br>你们可以把上传和显示的jsp页面都改成gbk的<br><br>就是jsp页面最顶部的这行代码<br>&lt;%@ page language="java" import="java.util.*" pageEncoding="gbk"%&gt;</p> </td> <td class="right"></td></tr> <tr><td class="bottomleft"></td><td class="bottom"></td><td class="bottomright"></td></tr> </tbody></table></td> </tr> </tbody></table> </div></div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3406514,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3406514,&#39;Bury&#39;,this)">反对(0)</a></div>
				&nbsp;&nbsp;<span class="comment_actions"></span>
			<p></p>
		
			<h4>
				<a href="http://www.cnblogs.com/xdp-gacl/p/4200090.html#3407245" class="layer">#68楼</a><a name="3407245" id="comment_anchor_3407245"></a>
					<span>
						 <span class="comment_date">2016-04-13 17:26</span>
					</span>
				<a id="a_comment_author_3407245" href="http://home.cnblogs.com/u/935489/" target="_blank">於宸潇湘</a> <a href="http://msg.cnblogs.com/send/%E6%96%BC%E5%AE%B8%E6%BD%87%E6%B9%98" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</h4>
			<p>
				</p><div id="comment_body_3407245" class="blog_comment_body"><div class="list"><table class="out" border="0" cellspacing="0" cellpadding="0"> <tbody><tr><td class="icontd" align="right" valign="bottom"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/20131202131125.png" width="70px" height="57px"></td><td align="left" valign="bottom" class="q"><table border="0" cellpadding="0" cellspacing="0" style=""> <tbody><tr><td class="topleft"></td><td class="top"></td><td class="topright"></td></tr> <tr><td class="left"></td> <td align="left" class="conmts"><p>完全按照博主的代码，上传无问题，也在tomcat文件夹里找到了上传的文件。但是进入下载页面时，不显示下载列表。求解是什么原因</p> </td> <td class="right"></td></tr> <tr><td class="bottomleft"></td><td class="bottom"></td><td class="bottomright"></td></tr> </tbody></table></td> </tr> </tbody></table> </div></div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3407245,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3407245,&#39;Bury&#39;,this)">反对(0)</a></div>
				&nbsp;&nbsp;<span class="comment_actions"></span>
			<p></p>
		
			<h4>
				<a href="http://www.cnblogs.com/xdp-gacl/p/4200090.html#3410668" class="layer">#69楼</a><a name="3410668" id="comment_anchor_3410668"></a>
					<span>
						 <span class="comment_date">2016-04-18 09:11</span>
					</span>
				<a id="a_comment_author_3410668" href="http://home.cnblogs.com/u/938641/" target="_blank">laiwentong</a> <a href="http://msg.cnblogs.com/send/laiwentong" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</h4>
			<p>
				</p><div id="comment_body_3410668" class="blog_comment_body"><div class="list"><table class="out" border="0" cellspacing="0" cellpadding="0"> <tbody><tr><td class="icontd" align="right" valign="bottom"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/20131202131125.png" width="70px" height="57px"></td><td align="left" valign="bottom" class="q"><table border="0" cellpadding="0" cellspacing="0" style=""> <tbody><tr><td class="topleft"></td><td class="top"></td><td class="topright"></td></tr> <tr><td class="left"></td> <td align="left" class="conmts"><p>为什么跟上面的一模一样，全是复制粘贴，但是listfile页面没有任何东西显示</p> </td> <td class="right"></td></tr> <tr><td class="bottomleft"></td><td class="bottom"></td><td class="bottomright"></td></tr> </tbody></table></td> </tr> </tbody></table> </div></div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3410668,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3410668,&#39;Bury&#39;,this)">反对(0)</a></div>
				&nbsp;&nbsp;<span class="comment_actions"></span>
			<p></p>
		
			<h4>
				<a href="http://www.cnblogs.com/xdp-gacl/p/4200090.html#3411068" class="layer">#70楼</a><a name="3411068" id="comment_anchor_3411068"></a>
					<span>
						 <span class="comment_date">2016-04-18 16:15</span>
					</span>
				<a id="a_comment_author_3411068" href="http://home.cnblogs.com/u/923220/" target="_blank">恐高的鸟</a> <a href="http://msg.cnblogs.com/send/%E6%81%90%E9%AB%98%E7%9A%84%E9%B8%9F" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</h4>
			<p>
				</p><div id="comment_body_3411068" class="blog_comment_body"><div class="list"><table class="out" border="0" cellspacing="0" cellpadding="0"> <tbody><tr><td class="icontd" align="right" valign="bottom"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/20131202131125.png" width="70px" height="57px"></td><td align="left" valign="bottom" class="q"><table border="0" cellpadding="0" cellspacing="0" style=""> <tbody><tr><td class="topleft"></td><td class="top"></td><td class="topright"></td></tr> <tr><td class="left"></td> <td align="left" class="conmts"><p>您好，请问一下，上传文件里面有“监听文件上传进度”这个功能，我如何把这个功能提取出来，做一个文件上传的进度条？</p> </td> <td class="right"></td></tr> <tr><td class="bottomleft"></td><td class="bottom"></td><td class="bottomright"></td></tr> </tbody></table></td> </tr> </tbody></table> </div></div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3411068,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3411068,&#39;Bury&#39;,this)">反对(0)</a></div>
				&nbsp;&nbsp;<span class="comment_actions"></span>
			<p></p>
		
			<h4>
				<a href="http://www.cnblogs.com/xdp-gacl/p/4200090.html#3413545" class="layer">#71楼</a><a name="3413545" id="comment_anchor_3413545"></a>
					<span>
						 <span class="comment_date">2016-04-20 18:26</span>
					</span>
				<a id="a_comment_author_3413545" href="http://home.cnblogs.com/u/916935/" target="_blank">AiDaRLING</a> <a href="http://msg.cnblogs.com/send/AiDaRLING" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</h4>
			<p>
				</p><div id="comment_body_3413545" class="blog_comment_body"><div class="list"><table class="out" border="0" cellspacing="0" cellpadding="0"> <tbody><tr><td class="icontd" align="right" valign="bottom"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/20131202131125.png" width="70px" height="57px"></td><td align="left" valign="bottom" class="q"><table border="0" cellpadding="0" cellspacing="0" style=""> <tbody><tr><td class="topleft"></td><td class="top"></td><td class="topright"></td></tr> <tr><td class="left"></td> <td align="left" class="conmts"><p>谢谢楼主。</p> </td> <td class="right"></td></tr> <tr><td class="bottomleft"></td><td class="bottom"></td><td class="bottomright"></td></tr> </tbody></table></td> </tr> </tbody></table> </div></div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3413545,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3413545,&#39;Bury&#39;,this)">反对(0)</a></div>
				&nbsp;&nbsp;<span class="comment_actions"></span>
			<p></p>
		
			<h4>
				<a href="http://www.cnblogs.com/xdp-gacl/p/4200090.html#3417261" class="layer">#72楼</a><a name="3417261" id="comment_anchor_3417261"></a>
					<span>
						 <span class="comment_date">2016-04-25 22:42</span>
					</span>
				<a id="a_comment_author_3417261" href="http://home.cnblogs.com/u/944543/" target="_blank">1115405079</a> <a href="http://msg.cnblogs.com/send/1115405079" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</h4>
			<p>
				</p><div id="comment_body_3417261" class="blog_comment_body"><div class="list"><table class="out" border="0" cellspacing="0" cellpadding="0"> <tbody><tr><td class="icontd" align="right" valign="bottom"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/20131202131125.png" width="70px" height="57px"></td><td align="left" valign="bottom" class="q"><table border="0" cellpadding="0" cellspacing="0" style=""> <tbody><tr><td class="topleft"></td><td class="top"></td><td class="topright"></td></tr> <tr><td class="left"></td> <td align="left" class="conmts"><p>您好，我按照你的写了后，上传成功了，但是不久文件就自动被删除了，不明白，是什么原因呢？</p> </td> <td class="right"></td></tr> <tr><td class="bottomleft"></td><td class="bottom"></td><td class="bottomright"></td></tr> </tbody></table></td> </tr> </tbody></table> </div></div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3417261,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3417261,&#39;Bury&#39;,this)">反对(0)</a></div>
				&nbsp;&nbsp;<span class="comment_actions"></span>
			<p></p>
		
			<h4>
				<a href="http://www.cnblogs.com/xdp-gacl/p/4200090.html#3417262" class="layer">#73楼</a><a name="3417262" id="comment_anchor_3417262"></a>
					<span>
						 <span class="comment_date">2016-04-25 22:43</span>
					</span>
				<a id="a_comment_author_3417262" href="http://home.cnblogs.com/u/944543/" target="_blank">1115405079</a> <a href="http://msg.cnblogs.com/send/1115405079" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</h4>
			<p>
				</p><div id="comment_body_3417262" class="blog_comment_body"><div class="list"><table class="out" border="0" cellspacing="0" cellpadding="0"> <tbody><tr><td class="icontd" align="right" valign="bottom"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/20131202131125.png" width="70px" height="57px"></td><td align="left" valign="bottom" class="q"><table border="0" cellpadding="0" cellspacing="0" style=""> <tbody><tr><td class="topleft"></td><td class="top"></td><td class="topright"></td></tr> <tr><td class="left"></td> <td align="left" class="conmts"><p>楼上。。有时间回复一下谢谢！</p> </td> <td class="right"></td></tr> <tr><td class="bottomleft"></td><td class="bottom"></td><td class="bottomright"></td></tr> </tbody></table></td> </tr> </tbody></table> </div></div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3417262,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3417262,&#39;Bury&#39;,this)">反对(0)</a></div>
				&nbsp;&nbsp;<span class="comment_actions"></span>
			<p></p>
		
			<h4>
				<a href="http://www.cnblogs.com/xdp-gacl/p/4200090.html#3418706" class="layer">#74楼</a><a name="3418706" id="comment_anchor_3418706"></a>
					<span>
						 <span class="comment_date">2016-04-27 15:41</span>
					</span>
				<a id="a_comment_author_3418706" href="http://www.cnblogs.com/cenyetong/" target="_blank">cenyetong</a> <a href="http://msg.cnblogs.com/send/cenyetong" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</h4>
			<p>
				</p><div id="comment_body_3418706" class="blog_comment_body"><div class="list"><table class="out" border="0" cellspacing="0" cellpadding="0"> <tbody><tr><td class="icontd" align="right" valign="bottom"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/20131202131125.png" width="70px" height="57px"></td><td align="left" valign="bottom" class="q"><table border="0" cellpadding="0" cellspacing="0" style=""> <tbody><tr><td class="topleft"></td><td class="top"></td><td class="topright"></td></tr> <tr><td class="left"></td> <td align="left" class="conmts"><p>很好，学会了</p> </td> <td class="right"></td></tr> <tr><td class="bottomleft"></td><td class="bottom"></td><td class="bottomright"></td></tr> </tbody></table></td> </tr> </tbody></table> </div></div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3418706,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3418706,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_3418706_avatar" style="display:none;">http://pic.cnblogs.com/face/724340/20150221201223.png</span>
				&nbsp;&nbsp;<span class="comment_actions"></span>
			<p></p>
		
			<h4>
				<a href="http://www.cnblogs.com/xdp-gacl/p/4200090.html#3420696" class="layer">#75楼</a><a name="3420696" id="comment_anchor_3420696"></a>
					<span>
						 <span class="comment_date">2016-04-30 21:39</span>
					</span>
				<a id="a_comment_author_3420696" href="http://home.cnblogs.com/u/948143/" target="_blank">zzw0319</a> <a href="http://msg.cnblogs.com/send/zzw0319" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</h4>
			<p>
				</p><div id="comment_body_3420696" class="blog_comment_body"><div class="list"><table class="out" border="0" cellspacing="0" cellpadding="0"> <tbody><tr><td class="icontd" align="right" valign="bottom"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/20131202131125.png" width="70px" height="57px"></td><td align="left" valign="bottom" class="q"><table border="0" cellpadding="0" cellspacing="0" style=""> <tbody><tr><td class="topleft"></td><td class="top"></td><td class="topright"></td></tr> <tr><td class="left"></td> <td align="left" class="conmts"><p><a href="http://www.cnblogs.com/xdp-gacl/p/4200090.html#3350252" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3350252);">@</a>
Wilson.*Wang<br>你好，请问你的这个问题解决了吗</p> </td> <td class="right"></td></tr> <tr><td class="bottomleft"></td><td class="bottom"></td><td class="bottomright"></td></tr> </tbody></table></td> </tr> </tbody></table> </div></div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3420696,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3420696,&#39;Bury&#39;,this)">反对(0)</a></div>
				&nbsp;&nbsp;<span class="comment_actions"></span>
			<p></p>
		
			<h4>
				<a href="http://www.cnblogs.com/xdp-gacl/p/4200090.html#3420697" class="layer">#76楼</a><a name="3420697" id="comment_anchor_3420697"></a>
					<span>
						 <span class="comment_date">2016-04-30 21:40</span>
					</span>
				<a id="a_comment_author_3420697" href="http://home.cnblogs.com/u/948143/" target="_blank">zzw0319</a> <a href="http://msg.cnblogs.com/send/zzw0319" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</h4>
			<p>
				</p><div id="comment_body_3420697" class="blog_comment_body"><div class="list"><table class="out" border="0" cellspacing="0" cellpadding="0"> <tbody><tr><td class="icontd" align="right" valign="bottom"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/20131202131125.png" width="70px" height="57px"></td><td align="left" valign="bottom" class="q"><table border="0" cellpadding="0" cellspacing="0" style=""> <tbody><tr><td class="topleft"></td><td class="top"></td><td class="topright"></td></tr> <tr><td class="left"></td> <td align="left" class="conmts"><p><a href="http://www.cnblogs.com/xdp-gacl/p/4200090.html#3407245" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3407245);">@</a>
於宸潇湘<br>你好，想问你的这个问题解决了吗</p> </td> <td class="right"></td></tr> <tr><td class="bottomleft"></td><td class="bottom"></td><td class="bottomright"></td></tr> </tbody></table></td> </tr> </tbody></table> </div></div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3420697,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3420697,&#39;Bury&#39;,this)">反对(0)</a></div>
				&nbsp;&nbsp;<span class="comment_actions"></span>
			<p></p>
		
			<h4>
				<a href="http://www.cnblogs.com/xdp-gacl/p/4200090.html#3420702" class="layer">#77楼</a><a name="3420702" id="comment_anchor_3420702"></a>
					<span>
						 <span class="comment_date">2016-04-30 22:04</span>
					</span>
				<a id="a_comment_author_3420702" href="http://home.cnblogs.com/u/948143/" target="_blank">zzw0319</a> <a href="http://msg.cnblogs.com/send/zzw0319" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</h4>
			<p>
				</p><div id="comment_body_3420702" class="blog_comment_body"><div class="list"><table class="out" border="0" cellspacing="0" cellpadding="0"> <tbody><tr><td class="icontd" align="right" valign="bottom"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/20131202131125.png" width="70px" height="57px"></td><td align="left" valign="bottom" class="q"><table border="0" cellpadding="0" cellspacing="0" style=""> <tbody><tr><td class="topleft"></td><td class="top"></td><td class="topright"></td></tr> <tr><td class="left"></td> <td align="left" class="conmts"><p>listfile.jsp里面加了一行路径的代码后就ok了<br> &lt;a href="${pageContext.request.contextPath}/servlet/ListFileServlet"&gt;上传文件列表&lt;/a&gt;，放在 &lt;/c:forEach&gt;后面</p> </td> <td class="right"></td></tr> <tr><td class="bottomleft"></td><td class="bottom"></td><td class="bottomright"></td></tr> </tbody></table></td> </tr> </tbody></table> </div></div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3420702,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3420702,&#39;Bury&#39;,this)">反对(0)</a></div>
				&nbsp;&nbsp;<span class="comment_actions"></span>
			<p></p>
		
			<h4>
				<a href="http://www.cnblogs.com/xdp-gacl/p/4200090.html#3420705" class="layer">#78楼</a><a name="3420705" id="comment_anchor_3420705"></a>
					<span>
						 <span class="comment_date">2016-04-30 22:05</span>
					</span>
				<a id="a_comment_author_3420705" href="http://home.cnblogs.com/u/948143/" target="_blank">zzw0319</a> <a href="http://msg.cnblogs.com/send/zzw0319" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</h4>
			<p>
				</p><div id="comment_body_3420705" class="blog_comment_body"><div class="list"><table class="out" border="0" cellspacing="0" cellpadding="0"> <tbody><tr><td class="icontd" align="right" valign="bottom"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/20131202131125.png" width="70px" height="57px"></td><td align="left" valign="bottom" class="q"><table border="0" cellpadding="0" cellspacing="0" style=""> <tbody><tr><td class="topleft"></td><td class="top"></td><td class="topright"></td></tr> <tr><td class="left"></td> <td align="left" class="conmts"><p>谢谢楼主的分享！正好是我现在急需的东西，但是连数据库的部分还需要继续完成</p> </td> <td class="right"></td></tr> <tr><td class="bottomleft"></td><td class="bottom"></td><td class="bottomright"></td></tr> </tbody></table></td> </tr> </tbody></table> </div></div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3420705,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3420705,&#39;Bury&#39;,this)">反对(0)</a></div>
				&nbsp;&nbsp;<span class="comment_actions"></span>
			<p></p>
		
			<h4>
				<a href="http://www.cnblogs.com/xdp-gacl/p/4200090.html#3422162" class="layer">#79楼</a><a name="3422162" id="comment_anchor_3422162"></a>
					<span>
						 <span class="comment_date">2016-05-03 21:13</span>
					</span>
				<a id="a_comment_author_3422162" href="http://www.cnblogs.com/frank-pei/" target="_blank">frankpei</a> <a href="http://msg.cnblogs.com/send/frankpei" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</h4>
			<p>
				</p><div id="comment_body_3422162" class="blog_comment_body"><div class="list"><table class="out" border="0" cellspacing="0" cellpadding="0"> <tbody><tr><td class="icontd" align="right" valign="bottom"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/20131202131125.png" width="70px" height="57px"></td><td align="left" valign="bottom" class="q"><table border="0" cellpadding="0" cellspacing="0" style=""> <tbody><tr><td class="topleft"></td><td class="top"></td><td class="topright"></td></tr> <tr><td class="left"></td> <td align="left" class="conmts"><p>博主，太棒了，写的很详细，注释很清楚</p> </td> <td class="right"></td></tr> <tr><td class="bottomleft"></td><td class="bottom"></td><td class="bottomright"></td></tr> </tbody></table></td> </tr> </tbody></table> </div></div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3422162,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3422162,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_3422162_avatar" style="display:none;">http://pic.cnblogs.com/face/870345/20151230214404.png</span>
				&nbsp;&nbsp;<span class="comment_actions"></span>
			<p></p>
		
			<h4>
				<a href="http://www.cnblogs.com/xdp-gacl/p/4200090.html#3425801" class="layer">#80楼</a><a name="3425801" id="comment_anchor_3425801"></a><span id="comment-maxId" style="display:none;">3425801</span><span id="comment-maxDate" style="display:none;">2016/5/8 17:52:55</span>
					<span>
						 <span class="comment_date">2016-05-08 17:52</span>
					</span>
				<a id="a_comment_author_3425801" href="http://home.cnblogs.com/u/952124/" target="_blank">Charming2Future</a> <a href="http://msg.cnblogs.com/send/Charming2Future" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</h4>
			<p>
				</p><div id="comment_body_3425801" class="blog_comment_body"><div class="list"><table class="out" border="0" cellspacing="0" cellpadding="0"> <tbody><tr><td class="icontd" align="right" valign="bottom"><img src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/20131202131125.png" width="70px" height="57px"></td><td align="left" valign="bottom" class="q"><table border="0" cellpadding="0" cellspacing="0" style=""> <tbody><tr><td class="topleft"></td><td class="top"></td><td class="topright"></td></tr> <tr><td class="left"></td> <td align="left" class="conmts"><p>博主大赞，如果能有上传到数据库就更好了</p> </td> <td class="right"></td></tr> <tr><td class="bottomleft"></td><td class="bottom"></td><td class="bottomright"></td></tr> </tbody></table></td> </tr> </tbody></table> </div></div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3425801,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3425801,&#39;Bury&#39;,this)">反对(0)</a></div>
				&nbsp;&nbsp;<span class="comment_actions"></span>
			<p></p>
		
</div><div id="comments_pager_bottom"><div class="pager"><a href="http://www.cnblogs.com/xdp-gacl/p/4200090.html#!comments" onclick="commentManager.renderComments(1,50);return false;">&lt; Prev</a><a href="http://www.cnblogs.com/xdp-gacl/p/4200090.html#!comments" onclick="commentManager.renderComments(1,50);return false;">1</a><span class="current">2</span></div></div></div><script type="text/javascript">var commentManager = new blogCommentManager();commentManager.renderComments(0);</script>
<div id="comment_form" class="commentform">
<a name="commentform"></a>
<div id="divCommentShow"></div>
<div id="comment_nav"><span id="span_refresh_tips"></span><a href="javascript:void(0);" onclick="return RefreshCommentList();" id="lnk_RefreshComments" runat="server" clientidmode="Static">刷新评论</a><a href="http://www.cnblogs.com/xdp-gacl/p/4200090.html#" onclick="return RefreshPage();">刷新页面</a><a href="http://www.cnblogs.com/xdp-gacl/p/4200090.html#top">返回顶部</a></div>
<div id="comment_form_container"><div class="login_tips">注册用户登录后才能发表评论，请 <a rel="nofollow" href="javascript:void(0);" class="underline" onclick="return login(&#39;commentform&#39;);">登录</a> 或 <a rel="nofollow" href="javascript:void(0);" class="underline" onclick="return register();">注册</a>，<a href="http://www.cnblogs.com/">访问</a>网站首页。</div></div>
<div class="ad_text_commentbox" id="ad_text_under_commentbox"></div>
<div id="ad_t2"><a href="http://www.ucancode.com/index.htm" target="_blank">【推荐】50万行VC++源码: 大型组态工控、电力仿真CAD与GIS源码库</a><br><a href="http://www.rongcloud.cn/" target="_blank">【推荐】融云即时通讯云－豆果美食、Faceu等亿级APP都在用</a><br><a href="http://www.gcpowertools.com.cn/products/spreadjs/?utm_source=cnblogs&utm_medium=blogpage&utm_term=bottom&utm_content=SpreadJS&utm_campaign=community" target="_blank">【推荐】怎样将“在线Excel“嵌入你的开发系统中？</a><br><a href="http://click.aliyun.com/m/3037/" target="_blank">【推荐】阿里云高性能云服务器+SSD云盘，让业务响应0延迟</a><br></div>
<div id="opt_under_post"></div>
<div id="ad_c1" class="c_ad_block"><a href="https://www.wilddog.com/?utm_source=cnblogs&utm_medium=banner&utm_campaign=orangemarch" target="_blank"><img width="300" height="250" src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/cnblogs-300x250-1.jpg" alt=""></a></div>
<div id="under_post_news"><div class="itnews c_ad_block"><b>最新IT新闻</b>:<br> ·  <a href="http://news.cnblogs.com/n/545131/" target="_blank">亚马逊创始人贝索斯过去三个月资产增加180亿美元</a><br> ·  <a href="http://news.cnblogs.com/n/545130/" target="_blank">Facebook要做聊天机器人，一个月内吸引了上千开发者</a><br> ·  <a href="http://news.cnblogs.com/n/545129/" target="_blank">俞敏洪：不主张大学生创业，大学生的项目我不投！</a><br> ·  <a href="http://news.cnblogs.com/n/545128/" target="_blank">三个季度连续亏损 LG移动部门或将减员缩编</a><br> ·  <a href="http://news.cnblogs.com/n/545127/" target="_blank">微软手机最新黑科技：利用传感器“预知”用户行为</a><br>» <a href="http://news.cnblogs.com/" title="IT新闻" target="_blank">更多新闻...</a></div></div>
<div id="ad_c2" class="c_ad_block"><a href="https://www.jpush.cn/?from=cnblogs01" target="_blank"><img width="468" height="60" src="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/24442-20160307140747632-1210035054.jpg" alt=""></a></div>
<div id="under_post_kb"><div class="itnews c_ad_block" id="kb_block"><b>最新知识库文章</b>:<br><div id="kb_recent"> ·  <a href="http://kb.cnblogs.com/page/543110/" target="_blank">架构漫谈（九）：理清技术、业务和架构的关系</a><br> ·  <a href="http://kb.cnblogs.com/page/542725/" target="_blank">架构漫谈（八）：从架构的角度看如何写好代码</a><br> ·  <a href="http://kb.cnblogs.com/page/542257/" target="_blank">架构漫谈（七）：不要空设架构师这个职位，给他实权</a><br> ·  <a href="http://kb.cnblogs.com/page/541740/" target="_blank">架构漫谈（六）：软件架构到底是要解决什么问题？</a><br> ·  <a href="http://kb.cnblogs.com/page/541188/" target="_blank">架构漫谈（五）：什么是软件</a><br></div>» <a href="http://kb.cnblogs.com/" target="_blank">更多知识库文章...</a></div></div>
<div id="HistoryToday" class="c_ad_block"></div>
<script type="text/javascript">
$(function () {
    setTimeout(function () { incrementViewCount(cb_entryId); }, 50);
    deliverAdT2();
    deliverAdC1();
    deliverAdC2();    
    loadNewsAndKb();
    loadBlogSignature();
    LoadPostInfoBlock(cb_blogId, cb_entryId, cb_blogApp, cb_blogUserGuid);
    GetPrevNextPost(cb_entryId, cb_blogId, cb_entryCreatedDate);
    loadOptUnderPost();
    GetHistoryToday(cb_blogId, cb_blogApp, cb_entryCreatedDate);    
});
</script>
</div>


</div>
<div id="rightmenu">
	
		
<div id="my_links">
<h3>导航</h3>
<ul>
<li><a id="MyLinks1_HomeLink" href="http://www.cnblogs.com/">博客园</a></li>
<li><a id="MyLinks1_MyHomeLink" href="http://www.cnblogs.com/xdp-gacl/">首页</a></li>
<!--<li><a id="MyLinks1_NewPostLink" rel="nofollow" href="http://i.cnblogs.com/EditPosts.aspx?opt=1">新随笔</a></li>-->
<li><a id="MyLinks1_ContactLink" rel="nofollow" href="http://msg.cnblogs.com/send/%E5%AD%A4%E5%82%B2%E8%8B%8D%E7%8B%BC">联系</a></li>
<li><a id="MyLinks1_Syndication" href="http://www.cnblogs.com/xdp-gacl/rss">订阅</a></li><!--<a id="MyLinks1_XMLLink" href="http://www.cnblogs.com/xdp-gacl/rss"><img src="http://www.cnblogs.com/images/xml.gif" alt="订阅" /></a>-->
<li><a id="MyLinks1_Admin" rel="nofollow" href="http://i.cnblogs.com/">管理</a></li>
</ul>
</div>
		<div id="blog-calendar" style=""><table id="blogCalendar" class="Cal" cellspacing="0" cellpadding="0" title="Calendar">
	<tbody><tr><td colspan="7"><table class="CalTitle" cellspacing="0">
		<tbody><tr><td class="CalNextPrev"><a href="javascript:void(0);" onclick="loadBlogCalendar(&#39;2016/04/01&#39;);return false;">&lt;</a></td><td align="center">2016年5月</td><td class="CalNextPrev" align="right"><a href="javascript:void(0);" onclick="loadBlogCalendar(&#39;2016/06/01&#39;);return false;">&gt;</a></td></tr>
	</tbody></table></td></tr><tr><th class="CalDayHeader" align="center" abbr="日" scope="col">日</th><th class="CalDayHeader" align="center" abbr="一" scope="col">一</th><th class="CalDayHeader" align="center" abbr="二" scope="col">二</th><th class="CalDayHeader" align="center" abbr="三" scope="col">三</th><th class="CalDayHeader" align="center" abbr="四" scope="col">四</th><th class="CalDayHeader" align="center" abbr="五" scope="col">五</th><th class="CalDayHeader" align="center" abbr="六" scope="col">六</th></tr><tr><td class="CalOtherMonthDay" align="center">24</td><td class="CalOtherMonthDay" align="center">25</td><td class="CalOtherMonthDay" align="center">26</td><td class="CalOtherMonthDay" align="center">27</td><td class="CalOtherMonthDay" align="center">28</td><td class="CalOtherMonthDay" align="center">29</td><td class="CalOtherMonthDay" align="center">30</td></tr><tr><td class="CalWeekendDay" align="center">1</td><td align="center">2</td><td align="center">3</td><td align="center">4</td><td align="center">5</td><td align="center">6</td><td class="CalWeekendDay" align="center">7</td></tr><tr><td class="CalWeekendDay" align="center">8</td><td align="center">9</td><td align="center">10</td><td class="CalTodayDay" align="center">11</td><td align="center">12</td><td align="center">13</td><td class="CalWeekendDay" align="center">14</td></tr><tr><td class="CalWeekendDay" align="center">15</td><td align="center">16</td><td align="center">17</td><td align="center">18</td><td align="center">19</td><td align="center">20</td><td class="CalWeekendDay" align="center">21</td></tr><tr><td class="CalWeekendDay" align="center">22</td><td align="center">23</td><td align="center">24</td><td align="center">25</td><td align="center">26</td><td align="center">27</td><td class="CalWeekendDay" align="center">28</td></tr><tr><td class="CalWeekendDay" align="center">29</td><td align="center">30</td><td align="center">31</td><td class="CalOtherMonthDay" align="center">1</td><td class="CalOtherMonthDay" align="center">2</td><td class="CalOtherMonthDay" align="center">3</td><td class="CalOtherMonthDay" align="center">4</td></tr>
</tbody></table></div><script type="text/javascript">loadBlogDefaultCalendar();</script>
		
<h3>公告</h3>
<div class="newsItem">
	<div id="blog-news"><div id="profile_block">昵称：<a href="http://home.cnblogs.com/u/xdp-gacl/">孤傲苍狼</a><br>园龄：<a href="http://home.cnblogs.com/u/xdp-gacl/" title="入园时间：2011-04-05">5年1个月</a><br>粉丝：<a href="http://home.cnblogs.com/u/xdp-gacl/followers/">4889</a><br>关注：<a href="http://home.cnblogs.com/u/xdp-gacl/followees/">83</a><div id="p_b_follow"><a href="javascript:void(0);" onclick="cnblogs.UserManager.FollowBlogger(&#39;f1774468-815f-e011-a53f-842b2b196315&#39;)">+加关注</a></div></div></div><script type="text/javascript">loadBlogNews();</script>
</div>		
		
<div id="blog_stats">
<h3>统计</h3>
<ul>
<li>随笔 - 275
</li><li>文章 - 0
</li><li>评论 - 1503
<!--<li>引用 - 0-->
</li>
</ul>
</div>
		<div id="blog-sidecolumn"><div id="sidebar_search" class="sidebar-block">
<div id="sidebar_search" class="mySearch">
<h3 class="catListTitle">搜索</h3>
<div id="sidebar_search_box">
<div id="widget_my_zzk" class="div_my_zzk"><input type="text" id="q" onkeydown="return zzk_go_enter(event);" class="input_my_zzk">&nbsp;<input onclick="zzk_go()" type="button" value="找找看" id="btnZzk" class="btn_my_zzk"></div>
<div id="widget_my_google" class="div_my_zzk"><input type="text" name="google_q" id="google_q" onkeydown="return google_go_enter(event)" class="input_my_zzk">&nbsp;<input onclick="google_go()" type="button" value="谷歌搜索" class="btn_my_zzk"></div>
</div>
</div>

</div><div id="sidebar_shortcut" class="sidebar-block">
<h3 class="catListTitle">常用链接</h3>
<ul>
<li><a href="http://www.cnblogs.com/xdp-gacl/p/" title="我的博客的随笔列表">我的随笔</a></li><li><a href="http://www.cnblogs.com/xdp-gacl/MyComments.html" title="我发表过的评论列表">我的评论</a></li><li><a href="http://www.cnblogs.com/xdp-gacl/OtherPosts.html" title="我评论过的随笔列表">我的参与</a></li><li><a href="http://www.cnblogs.com/xdp-gacl/RecentComments.html" title="我的博客的评论列表">最新评论</a></li><li><a href="http://www.cnblogs.com/xdp-gacl/tag/" title="我的博客的标签列表">我的标签</a></li>
</ul>
<div id="itemListLin_con" style="display:none;">

</div></div><div id="sidebar_toptags" class="sidebar-block">
<h3 class="catListTitle">我的标签</h3>
<div id="MyTag">
<ul>
<li><a href="http://www.cnblogs.com/xdp-gacl/tag/JavaWeb%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/">JavaWeb学习总结</a>(62)</li><li><a href="http://www.cnblogs.com/xdp-gacl/tag/java%E5%9F%BA%E7%A1%80%E6%80%BB%E7%BB%93/">java基础总结</a>(28)</li><li><a href="http://www.cnblogs.com/xdp-gacl/tag/Javascript%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/">Javascript学习总结</a>(27)</li><li><a href="http://www.cnblogs.com/xdp-gacl/tag/Snmp%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/">Snmp学习总结</a>(15)</li><li><a href="http://www.cnblogs.com/xdp-gacl/tag/MyEclipse%E4%BD%BF%E7%94%A8%E6%80%BB%E7%BB%93/">MyEclipse使用总结</a>(13)</li><li><a href="http://www.cnblogs.com/xdp-gacl/tag/Android%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/">Android开发学习总结</a>(13)</li><li><a href="http://www.cnblogs.com/xdp-gacl/tag/Maven%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/">Maven学习总结</a>(11)</li><li><a href="http://www.cnblogs.com/xdp-gacl/tag/WebLogic%E4%BD%BF%E7%94%A8%E6%80%BB%E7%BB%93/">WebLogic使用总结</a>(9)</li><li><a href="http://www.cnblogs.com/xdp-gacl/tag/MyBatis%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/">MyBatis学习总结</a>(8)</li><li><a href="http://www.cnblogs.com/xdp-gacl/tag/MySQL%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/">MySQL学习总结</a>(8)</li><li><a href="http://www.cnblogs.com/xdp-gacl/tag/">更多</a></li>
</ul>
</div></div><div id="sidebar_categories">
		<h3>随笔分类</h3>
		
				<ul>
			
				<li><a id="CatList_LinkList_0_Link_0" href="http://www.cnblogs.com/xdp-gacl/category/431986.html">AJAX(2)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_1" href="http://www.cnblogs.com/xdp-gacl/category/663970.html">Android开发(12)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_2" href="http://www.cnblogs.com/xdp-gacl/category/431983.html">ASP.NET(2)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_3" href="http://www.cnblogs.com/xdp-gacl/category/431981.html">C#(8)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_4" href="http://www.cnblogs.com/xdp-gacl/category/647917.html">CSS学习总结</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_5" href="http://www.cnblogs.com/xdp-gacl/category/557089.html">C语言学习总结</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_6" href="http://www.cnblogs.com/xdp-gacl/category/605855.html">FusionCharts</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_7" href="http://www.cnblogs.com/xdp-gacl/category/641669.html">H2数据库学习使用总结(3)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_8" href="http://www.cnblogs.com/xdp-gacl/category/601788.html">Hessian(2)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_9" href="http://www.cnblogs.com/xdp-gacl/category/557131.html">Hibernate</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_10" href="http://www.cnblogs.com/xdp-gacl/category/602554.html">Highcharts</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_11" href="http://www.cnblogs.com/xdp-gacl/category/544383.html">HTML(1)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_12" href="http://www.cnblogs.com/xdp-gacl/category/791376.html">html5学习使用总结</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_13" href="http://www.cnblogs.com/xdp-gacl/category/647915.html">Html学习总结</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_14" href="http://www.cnblogs.com/xdp-gacl/category/431984.html">Java(13)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_15" href="http://www.cnblogs.com/xdp-gacl/category/431982.html">JavaScript(27)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_16" href="http://www.cnblogs.com/xdp-gacl/category/574705.html">JavaWeb学习总结(55)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_17" href="http://www.cnblogs.com/xdp-gacl/category/563691.html">Java基础加强总结(3)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_18" href="http://www.cnblogs.com/xdp-gacl/category/566451.html">java基础面试题(1)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_19" href="http://www.cnblogs.com/xdp-gacl/category/563690.html">java基础总结(28)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_20" href="http://www.cnblogs.com/xdp-gacl/category/595905.html">Java监控</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_21" href="http://www.cnblogs.com/xdp-gacl/category/607504.html">Java事务处理</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_22" href="http://www.cnblogs.com/xdp-gacl/category/600539.html">java字节码的处理技术</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_23" href="http://www.cnblogs.com/xdp-gacl/category/636007.html">JFinal学习研究</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_24" href="http://www.cnblogs.com/xdp-gacl/category/609326.html">JNDI(3)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_25" href="http://www.cnblogs.com/xdp-gacl/category/571424.html">Jquery EasyUI学习使用总结(7)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_26" href="http://www.cnblogs.com/xdp-gacl/category/600080.html">jwebap</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_27" href="http://www.cnblogs.com/xdp-gacl/category/599454.html">kafka</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_28" href="http://www.cnblogs.com/xdp-gacl/category/590574.html">LDAP</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_29" href="http://www.cnblogs.com/xdp-gacl/category/620197.html">Linux学习总结(1)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_30" href="http://www.cnblogs.com/xdp-gacl/category/544719.html">Maven(10)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_31" href="http://www.cnblogs.com/xdp-gacl/category/599453.html">Mina</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_32" href="http://www.cnblogs.com/xdp-gacl/category/655890.html">Mybatis(8)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_33" href="http://www.cnblogs.com/xdp-gacl/category/544414.html">MyEclipse(11)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_34" href="http://www.cnblogs.com/xdp-gacl/category/557132.html">MySQL(2)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_35" href="http://www.cnblogs.com/xdp-gacl/category/576035.html">Nginx(3)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_36" href="http://www.cnblogs.com/xdp-gacl/category/567838.html">Oracle学习使用总结</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_37" href="http://www.cnblogs.com/xdp-gacl/category/562877.html">PowerDesigner使用总结(5)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_38" href="http://www.cnblogs.com/xdp-gacl/category/640475.html">redis</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_39" href="http://www.cnblogs.com/xdp-gacl/category/591218.html">RESTful架构(1)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_40" href="http://www.cnblogs.com/xdp-gacl/category/649781.html">Servlet3.0(4)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_41" href="http://www.cnblogs.com/xdp-gacl/category/613358.html">Snmp学习总结(8)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_42" href="http://www.cnblogs.com/xdp-gacl/category/544380.html">Spring(3)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_43" href="http://www.cnblogs.com/xdp-gacl/category/654626.html">SpringMVC学习总结</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_44" href="http://www.cnblogs.com/xdp-gacl/category/543327.html">SQLServer(4)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_45" href="http://www.cnblogs.com/xdp-gacl/category/543338.html">Struts2(4)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_46" href="http://www.cnblogs.com/xdp-gacl/category/737796.html">SVN</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_47" href="http://www.cnblogs.com/xdp-gacl/category/544377.html">VB.NET(1)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_48" href="http://www.cnblogs.com/xdp-gacl/category/637206.html">WebLogic使用总结(8)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_49" href="http://www.cnblogs.com/xdp-gacl/category/629559.html">WebService学习总结(4)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_50" href="http://www.cnblogs.com/xdp-gacl/category/787823.html">WebSocket(1)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_51" href="http://www.cnblogs.com/xdp-gacl/category/554263.html">WinForm学习总结</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_52" href="http://www.cnblogs.com/xdp-gacl/category/602889.html">XML学习总结(2)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_53" href="http://www.cnblogs.com/xdp-gacl/category/551491.html">插件化开发</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_54" href="http://www.cnblogs.com/xdp-gacl/category/598077.html">创业知识(5)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_55" href="http://www.cnblogs.com/xdp-gacl/category/651090.html">大数据/hadoop(1)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_56" href="http://www.cnblogs.com/xdp-gacl/category/645953.html">代码注释(1)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_57" href="http://www.cnblogs.com/xdp-gacl/category/588156.html">单点登录(Yale_CAS_SSO)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_58" href="http://www.cnblogs.com/xdp-gacl/category/710266.html">电脑基本技能</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_59" href="http://www.cnblogs.com/xdp-gacl/category/636430.html">读书笔记</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_60" href="http://www.cnblogs.com/xdp-gacl/category/635429.html">负载均衡(1)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_61" href="http://www.cnblogs.com/xdp-gacl/category/543351.html">互联网基础(3)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_62" href="http://www.cnblogs.com/xdp-gacl/category/644775.html">缓存框架</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_63" href="http://www.cnblogs.com/xdp-gacl/category/801455.html">架构设计</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_64" href="http://www.cnblogs.com/xdp-gacl/category/661363.html">框架整合(1)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_65" href="http://www.cnblogs.com/xdp-gacl/category/810590.html">敏捷开发(1)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_66" href="http://www.cnblogs.com/xdp-gacl/category/591507.html">权限设计</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_67" href="http://www.cnblogs.com/xdp-gacl/category/431985.html">生活感悟(3)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_68" href="http://www.cnblogs.com/xdp-gacl/category/589802.html">数据库Sharding(1)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_69" href="http://www.cnblogs.com/xdp-gacl/category/562913.html">数据库理论基础(3)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_70" href="http://www.cnblogs.com/xdp-gacl/category/608526.html">微信开发(3)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_71" href="http://www.cnblogs.com/xdp-gacl/category/811446.html">我的开发框架</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_72" href="http://www.cnblogs.com/xdp-gacl/category/806539.html">项目管理(1)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_73" href="http://www.cnblogs.com/xdp-gacl/category/654566.html">英语学习</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_74" href="http://www.cnblogs.com/xdp-gacl/category/578277.html">原创小工具(1)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_75" href="http://www.cnblogs.com/xdp-gacl/category/594056.html">云计算(2)</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_76" href="http://www.cnblogs.com/xdp-gacl/category/598078.html">哲学人生</a> </li>
			
				<li><a id="CatList_LinkList_0_Link_77" href="http://www.cnblogs.com/xdp-gacl/category/596451.html">职场感悟(3)</a> </li>
			
				</ul>
			
	
		<h3>随笔档案</h3>
		
				<ul>
			
				<li><a id="CatList_LinkList_1_Link_0" href="http://www.cnblogs.com/xdp-gacl/archive/2016/04.html">2016年4月 (5)</a> </li>
			
				<li><a id="CatList_LinkList_1_Link_1" href="http://www.cnblogs.com/xdp-gacl/archive/2016/03.html">2016年3月 (5)</a> </li>
			
				<li><a id="CatList_LinkList_1_Link_2" href="http://www.cnblogs.com/xdp-gacl/archive/2016/02.html">2016年2月 (3)</a> </li>
			
				<li><a id="CatList_LinkList_1_Link_3" href="http://www.cnblogs.com/xdp-gacl/archive/2016/01.html">2016年1月 (2)</a> </li>
			
				<li><a id="CatList_LinkList_1_Link_4" href="http://www.cnblogs.com/xdp-gacl/archive/2015/07.html">2015年7月 (11)</a> </li>
			
				<li><a id="CatList_LinkList_1_Link_5" href="http://www.cnblogs.com/xdp-gacl/archive/2015/03.html">2015年3月 (12)</a> </li>
			
				<li><a id="CatList_LinkList_1_Link_6" href="http://www.cnblogs.com/xdp-gacl/archive/2015/02.html">2015年2月 (6)</a> </li>
			
				<li><a id="CatList_LinkList_1_Link_7" href="http://www.cnblogs.com/xdp-gacl/archive/2015/01.html">2015年1月 (40)</a> </li>
			
				<li><a id="CatList_LinkList_1_Link_8" href="http://www.cnblogs.com/xdp-gacl/archive/2014/12.html">2014年12月 (17)</a> </li>
			
				<li><a id="CatList_LinkList_1_Link_9" href="http://www.cnblogs.com/xdp-gacl/archive/2014/11.html">2014年11月 (12)</a> </li>
			
				<li><a id="CatList_LinkList_1_Link_10" href="http://www.cnblogs.com/xdp-gacl/archive/2014/10.html">2014年10月 (31)</a> </li>
			
				<li><a id="CatList_LinkList_1_Link_11" href="http://www.cnblogs.com/xdp-gacl/archive/2014/08.html">2014年8月 (10)</a> </li>
			
				<li><a id="CatList_LinkList_1_Link_12" href="http://www.cnblogs.com/xdp-gacl/archive/2014/07.html">2014年7月 (25)</a> </li>
			
				<li><a id="CatList_LinkList_1_Link_13" href="http://www.cnblogs.com/xdp-gacl/archive/2014/06.html">2014年6月 (6)</a> </li>
			
				<li><a id="CatList_LinkList_1_Link_14" href="http://www.cnblogs.com/xdp-gacl/archive/2014/05.html">2014年5月 (10)</a> </li>
			
				<li><a id="CatList_LinkList_1_Link_15" href="http://www.cnblogs.com/xdp-gacl/archive/2014/04.html">2014年4月 (22)</a> </li>
			
				<li><a id="CatList_LinkList_1_Link_16" href="http://www.cnblogs.com/xdp-gacl/archive/2014/03.html">2014年3月 (28)</a> </li>
			
				<li><a id="CatList_LinkList_1_Link_17" href="http://www.cnblogs.com/xdp-gacl/archive/2014/02.html">2014年2月 (11)</a> </li>
			
				<li><a id="CatList_LinkList_1_Link_18" href="http://www.cnblogs.com/xdp-gacl/archive/2014/01.html">2014年1月 (2)</a> </li>
			
				<li><a id="CatList_LinkList_1_Link_19" href="http://www.cnblogs.com/xdp-gacl/archive/2013/12.html">2013年12月 (16)</a> </li>
			
				<li><a id="CatList_LinkList_1_Link_20" href="http://www.cnblogs.com/xdp-gacl/archive/2012/11.html">2012年11月 (1)</a> </li>
			
				</ul>
			
	</div><div id="sidebar_recentcomments" class="sidebar-block"><div id="recent_comments_wrap">
<h3 class="catListTitle">最新评论</h3>
<div class="RecentComment" id="RecentComments">
	<div id="RecentCommentsBlock"><ul>
        <li class="recent_comment_title"><a href="http://www.cnblogs.com/xdp-gacl/p/3495887.html#3427933">1. Re:Spring常用注解</a></li>
        <li class="recent_comment_body">通俗易懂，谢谢博主的分享。</li>
        <li class="recent_comment_author">--Xsum</li>
        <li class="recent_comment_title"><a href="http://www.cnblogs.com/xdp-gacl/p/3637073.html#3427806">2. Re:java基础学习总结——equals方法</a></li>
        <li class="recent_comment_body">楼主写得很好，简单明了</li>
        <li class="recent_comment_author">--bequt</li>
        <li class="recent_comment_title"><a href="http://www.cnblogs.com/xdp-gacl/p/3983253.html#3427770">3. Re:javaweb学习总结(三十六)——使用JDBC进行批处理</a></li>
        <li class="recent_comment_body">顶</li>
        <li class="recent_comment_author">--孟妹</li>
        <li class="recent_comment_title"><a href="http://www.cnblogs.com/xdp-gacl/p/4261895.html#3427757">4. Re:MyBatis学习总结(一)——MyBatis快速入门</a></li>
        <li class="recent_comment_body">感谢你，讲的很详细</li>
        <li class="recent_comment_author">--zimu1990</li>
        <li class="recent_comment_title"><a href="http://www.cnblogs.com/xdp-gacl/p/3908610.html#3427733">5. Re:javaweb学习总结(二十一)——JavaWeb的两种开发模式</a></li>
        <li class="recent_comment_body">写的实在是太好了</li>
        <li class="recent_comment_author">--寻影657</li>
        <li class="recent_comment_title"><a href="http://www.cnblogs.com/xdp-gacl/p/4240930.html#3427216">6. Re:Maven学习总结(三)——使用Maven构建项目</a></li>
        <li class="recent_comment_body">真心不错</li>
        <li class="recent_comment_author">--奕p</li>
        <li class="recent_comment_title"><a href="http://www.cnblogs.com/xdp-gacl/p/3760336.html#3426738">7. Re:javaweb学习总结(五)——Servlet开发(一)</a></li>
        <li class="recent_comment_body">请教下楼主，上面为servlet映射url是在config里面的web.xml还是WEB-INF里的web.xml里创建啊？小白不懂求指导。</li>
        <li class="recent_comment_author">--metaluo</li>
        <li class="recent_comment_title"><a href="http://www.cnblogs.com/xdp-gacl/p/3729033.html#3425929">8. Re:JavaWeb学习总结(一)——JavaWeb开发入门</a></li>
        <li class="recent_comment_body">LZ肯定对大家这么弱鸡而无语</li>
        <li class="recent_comment_author">--March On</li>
        <li class="recent_comment_title"><a href="http://www.cnblogs.com/xdp-gacl/p/4200090.html#3425801">9. Re:JavaWeb学习总结(五十)——文件上传和下载</a></li>
        <li class="recent_comment_body">博主大赞，如果能有上传到数据库就更好了</li>
        <li class="recent_comment_author">--Charming2Future</li>
        <li class="recent_comment_title"><a href="http://www.cnblogs.com/xdp-gacl/p/4271627.html#3425140">10. Re:MyBatis学习总结(八)——Mybatis3.x与Spring4.x整合</a></li>
        <li class="recent_comment_body">博主 我的项目在运行时报错：org.springframework.beans.factory.BeanCreationException: Error creating bean with nam......</li>
        <li class="recent_comment_author">--xkpactera</li>
</ul>
</div>
</div>
</div></div><div id="sidebar_topviewedposts" class="sidebar-block"><div id="topview_posts_wrap">
<h3 class="catListTitle">阅读排行榜</h3>
<div class="RecentComment" id="TopViewPosts"> 
	<div id="TopViewPostsBlock"><ul><li><a href="http://www.cnblogs.com/xdp-gacl/p/4261895.html">1. MyBatis学习总结(一)——MyBatis快速入门(154171)</a></li><li><a href="http://www.cnblogs.com/xdp-gacl/p/3497016.html">2. MyEclipse使用总结——MyEclipse10安装SVN插件(139730)</a></li><li><a href="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园.html">3. JavaWeb学习总结(五十)——文件上传和下载(100174)</a></li><li><a href="http://www.cnblogs.com/xdp-gacl/p/3760336.html">4. javaweb学习总结(五)——Servlet开发(一)(99514)</a></li><li><a href="http://www.cnblogs.com/xdp-gacl/p/3729033.html">5. JavaWeb学习总结(一)——JavaWeb开发入门(86502)</a></li><li><a href="http://www.cnblogs.com/xdp-gacl/p/4322165.html">6. Android开发学习总结(一)——搭建最新版本的Android开发环境(79097)</a></li><li><a href="http://www.cnblogs.com/xdp-gacl/p/3495887.html">7. Spring常用注解(72117)</a></li><li><a href="http://www.cnblogs.com/xdp-gacl/p/3777987.html">8. Java基础学习总结——Java对象的序列化和反序列化(61577)</a></li><li><a href="http://www.cnblogs.com/xdp-gacl/p/3902537.html">9. javaweb学习总结(二十二)——基于Servlet+JSP+JavaBean开发模式的用户登录注册(57266)</a></li><li><a href="http://www.cnblogs.com/xdp-gacl/p/3734395.html">10. JavaWeb学习总结(二)——Tomcat服务器学习和使用(一)(51493)</a></li></ul></div>
</div>
</div></div><div id="sidebar_topcommentedposts" class="sidebar-block"><div id="topfeedback_posts_wrap">
<h3 class="catListTitle">评论排行榜</h3>
<div class="RecentComment" id="TopCommentsPosts">
	<div id="TopFeedbackPostsBlock"><ul><li><a href="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园.html">1. JavaWeb学习总结(五十)——文件上传和下载(80)</a></li><li><a href="http://www.cnblogs.com/xdp-gacl/p/3902537.html">2. javaweb学习总结(二十二)——基于Servlet+JSP+JavaBean开发模式的用户登录注册(57)</a></li><li><a href="http://www.cnblogs.com/xdp-gacl/p/4261895.html">3. MyBatis学习总结(一)——MyBatis快速入门(52)</a></li><li><a href="http://www.cnblogs.com/xdp-gacl/p/3751277.html">4. javaweb学习总结(四)——Http协议(43)</a></li><li><a href="http://www.cnblogs.com/xdp-gacl/p/3729033.html">5. JavaWeb学习总结(一)——JavaWeb开发入门(42)</a></li><li><a href="http://www.cnblogs.com/xdp-gacl/p/3718879.html">6. JavaScript自动生成博文目录导航(40)</a></li><li><a href="http://www.cnblogs.com/xdp-gacl/p/3760336.html">7. javaweb学习总结(五)——Servlet开发(一)(39)</a></li><li><a href="http://www.cnblogs.com/xdp-gacl/p/4239501.html">8. 使用Maven搭建Struts2+Spring3+Hibernate4的整合开发环境(34)</a></li><li><a href="http://www.cnblogs.com/xdp-gacl/p/4271627.html">9. MyBatis学习总结(八)——Mybatis3.x与Spring4.x整合(32)</a></li><li><a href="http://www.cnblogs.com/xdp-gacl/p/4322165.html">10. Android开发学习总结(一)——搭建最新版本的Android开发环境(31)</a></li></ul></div>
</div></div></div><div id="sidebar_topdiggedposts" class="sidebar-block"><div id="topdigg_posts_wrap">
<h3 class="catListTitle">推荐排行榜</h3>
<div class="RecentComment">
	<div id="TopDiggPostsBlock"><ul><li><a href="http://www.cnblogs.com/xdp-gacl/p/4261895.html">1. MyBatis学习总结(一)——MyBatis快速入门(63)</a></li><li><a href="http://www.cnblogs.com/xdp-gacl/p/3760336.html">2. javaweb学习总结(五)——Servlet开发(一)(56)</a></li><li><a href="http://www.cnblogs.com/xdp-gacl/p/3729033.html">3. JavaWeb学习总结(一)——JavaWeb开发入门(48)</a></li><li><a href="./JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园_files/JavaWeb学习总结(五十)——文件上传和下载 - 孤傲苍狼 - 博客园.html">4. JavaWeb学习总结(五十)——文件上传和下载(47)</a></li><li><a href="http://www.cnblogs.com/xdp-gacl/p/3902537.html">5. javaweb学习总结(二十二)——基于Servlet+JSP+JavaBean开发模式的用户登录注册(41)</a></li><li><a href="http://www.cnblogs.com/xdp-gacl/p/4271627.html">6. MyBatis学习总结(八)——Mybatis3.x与Spring4.x整合(37)</a></li><li><a href="http://www.cnblogs.com/xdp-gacl/p/5149171.html">7. 微信开发学习总结（一）——微信开发环境搭建(36)</a></li><li><a href="http://www.cnblogs.com/xdp-gacl/p/3718879.html">8. JavaScript自动生成博文目录导航(36)</a></li><li><a href="http://www.cnblogs.com/xdp-gacl/p/4322165.html">9. Android开发学习总结(一)——搭建最新版本的Android开发环境(35)</a></li><li><a href="http://www.cnblogs.com/xdp-gacl/p/3751277.html">10. javaweb学习总结(四)——Http协议(34)</a></li></ul></div>
</div></div></div></div><script type="text/javascript">loadBlogSideColumn();</script>
        
		
<div id="footer">
	Powered by: 
	<br>
	
	<a id="Footer1_Hyperlink3" name="Hyperlink1" href="http://www.cnblogs.com/" style="font-family:Verdana;font-size:12px;">博客园</a>
	<br>
	Copyright © 孤傲苍狼
</div>
	
</div>			
			
	

<!--PageEndHtml Block Begin-->
<!--评论，生成气泡效果标签代码-->
<script type="text/javascript" language="javascript"> 
    $(document).ready(function() {
        var commentTime = setInterval(function(){if($("#comments_pager_bottom").length>0){CommentBubble();clearTimeout(commentTime);}},50);
    }); 
    function CommentBubble()
    {
var w1 = '<div class="list">' +
        '<table class="out" border="0" cellspacing="0" cellpadding="0"> ' +
            '<tr>' +
                '<td class="icontd" align="right" valign="bottom">' +
                    '<img src="http://pic.cnitblog.com/face/289233/20131202131125.png" width="70px" height="57px"/>' +
                '</td>' +
                '<td align="left" valign="bottom" class="q">' +
                    '<table border="0" cellpadding="0" cellspacing="0" style=""> ' +
                        '<tr><td class="topleft"></td><td class="top"></td><td class="topright"></td></tr> ' +
                        '<tr><td class="left"></td> <td align="left" class="conmts"><p>';
 
 
        var w2 = '</p> </td> <td class="right"></td></tr> ' +
                        '<tr><td class="bottomleft"></td><td class="bottom"></td><td class="bottomright"></td></tr> ' +
                    '</table>' +
                '</td> ' +
            '</tr> ' +
        '</table> ' +
    '</div>';
 
        $.each($(".blog_comment_body"), function(i, t) {
            $(t).html(w1 + $(t).html() + w2);
        });
$(".louzhu").closest(".feedbackItem").find(".out").removeClass("out").addClass("inc");
        /*.find(".q").attr("align","right");*/
        }
</script>
<!--PageEndHtml Block End-->


<div class="sideBar" id="sideBar"><div id="sideBarTab"><h2>目录导航</h2></div><div id="sideBarContents" style="display: none;"><dl><dt name="0">一、开发环境搭建</dt><dt name="1">二、实现文件上传</dt><dd name="2">2.1、文件上传页面和消息提示页面</dd><dd name="3">2.2、处理文件上传的Servlet</dd><dd name="4">2.3、文件上传的细节</dd><dt name="5">三、文件下载</dt><dd name="6">3.1、列出提供下载的文件资源</dd><dd name="7">3.2、实现文件下载</dd></dl></div></div></body></html>