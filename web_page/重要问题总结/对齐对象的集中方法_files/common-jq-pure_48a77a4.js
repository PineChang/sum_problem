define("common-jquery:widget/js/logic/suggestion/suggestion.js",function(e,t,o){var i=e("common-jquery:widget/lib/jquery/jquery.js"),n=(e("common-jquery:widget/lib/jquery.ui/jquery.ui.autocomplete.js"),e("common-jquery:widget/js/ui/base/base.js")),s=e("common-jquery:widget/js/logic/log/log.js");o.exports=n(function(){this.target=""}).extend({chineseType:!1,init:function(e){var t=this;e.config&&(t.config=i.extend({position:{my:"left top",at:"left bottom",collision:"none"}},e.config)),t.fire("beforeinit"),i(t.target).on("compositionstart",function(){t.chineseType=!0}).on("compositionend",function(){t.chineseType=!1}),t.target&&!t.checkDisabled()&&i(t.target).keyup(function(e){if(!(e.keyCode>=37&&e.keyCode<=40)){if(t.chineseType)return;t.checkSameQuery(i.trim(i(t.target).val()))&&setTimeout(function(){t.getData()},100)}}).on("paste",function(){setTimeout(function(){t.getData()},100)})},checkDisabled:function(){return!1},checkSameQuery:function(e){var t=this,o=1,n=sessionStorage.getItem("SUG_LIST");return null===n?!0:(n=i.parseJSON(n),i.each(n,function(i,n){e===n.word&&(t.openSugBlock(n.resultList,e),o=0)}),o)},checkStorageArray:function(e,t){var o=i.parseJSON(sessionStorage.getItem("SUG_LIST"))||[],n=1;o.length?(i.each(o,function(t,o){o.word===e&&(n=0)}),n&&o.push({word:e,resultList:t})):o.push({word:e,resultList:t}),sessionStorage.setItem("SUG_LIST",JSON.stringify(o))},getData:function(){var e=this,t=e.checkDisabled(),o=i.trim(i(e.target).val()),n=e.url||"/asyncreq";if(!t&&""!==o){var c={method:"getSug",word:o};i.get(n,c,function(t){var n=t.sugList,u=[];i.each(n,function(e,t){u.push(t.word)}),e.checkStorageArray(c.word,u),u.length&&(s.send(location.href,2019,{show:"sugHasShow",position:"sug20160229"}),e.openSugBlock(u,o))},"json")}},openSugBlock:function(e,t){var o=this;i(o.target).autocomplete({source:e,minLength:0,position:o.config.position,create:function(e){var t=i(o.target).autocomplete("widget");t.delegate(".ui-menu-item-close a","click",function(e){e.preventDefault(),i(o.target).autocomplete("close").autocomplete("destroy")}).delegate(".sug-tag","mouseenter",function(){i(this).siblings().removeClass("ui-state-focus").end().addClass("ui-state-focus")}).delegate(".sug-tag","mouseleave",function(){i(this).removeClass("ui-state-focus")}).delegate(".sug-tag","click",function(){var e=i(this).data("tag");location.href="/tag/"+e}),o.fire("create",e)},open:function(e){var n=i(o.target).autocomplete("widget");0==n.find(".ui-menu-item-close").size()&&(i("<li>").addClass("ui-menu-item-close").html('<a href="#">关闭</a>').appendTo(n),n.find(".ui-menu-item a").each(function(){i(this).html(this.innerHTML.replace(new RegExp(t,"i"),function(e){return"<em>"+e+"</em>"}))})),o.fire("open",e),i(".ui-menu-item").on("click",function(){s.send(location.href,2019,{click:"sugHasClick",position:"sug20160229"})})},select:function(e,t){o.fire("select",t)}}).autocomplete("search","")}})});
;define("common-jquery:widget/search-box/search-box.js",function(e,t,n){var a=e("common-jquery:widget/lib/jquery/jquery.js"),i=e("common-jquery:widget/js/logic/suggestion/suggestion.js"),c={search:function(e){location.href="/search?word="+encodeURIComponent(e)},sug:function(e){{var t=a(e.target),n=this;new i({target:t,select:function(e,i){var c=a.trim(i.item.value);t.val(c),n.search(c)},config:{position:e.position}})}},init:function(e){var t=this,n=a.extend({target:"#kw",position:{my:"left top",at:"left-1 bottom+6"}},e||{});t.sug(n),t.checkSearchBoxQuery(),t.initChannel()},checkSearchBoxQuery:function(){var e=a("#top-search-form");a(e).on("submit",function(e){e.preventDefault(),""==a.trim(a("#kw").val())?window.location.reload(!0):this.submit()})},channelChange:function(e){var t=a("#kw");if(t.val().length>0){var n=(e.href,encodeURIComponent(t.val())),i="";switch(e.getAttribute("index")){case"0":i="ns?cl=2&rn=20&tn=news&t=1&word="+n+"&t=1&ie=utf-8";break;case"1":i="s?cl=3&wd="+n+"&t=1&ie=utf-8";break;case"2":i="f?kw="+n+"&ie=utf-8";break;case"3":i="q?ct=17&pn=0&tn=ikaslist&rn=10&word="+n+"&ie=utf-8";break;case"4":i="search?key="+n;break;case"5":i="search/index?tn=baiduimage&ct=201326592&ie=utf-8&lm=-1&cl=2&word="+n;break;case"6":i="v?ct=301989888&s=25&word="+n+"&ie=utf-8";break;case"7":i="?newmap=1&ie=utf-8&s=s%26wd%3D"+n;break;case"8":i="search/word?pic=1&word="+n+"&enc=utf8";break;case"9":i="search?lm=0&od=0&word="+n+"&ie=utf-8";break;default:i=""}e.href=e.href+i}},initChannel:function(){var e=this,t=a("#search-box .channel li a");a.each(t,function(t,n){a(n).attr("index",t).on("click",function(){e.channelChange(n)})})}};n.exports=c});
;define("common-jquery:widget/nav/nav.js",function(e,o,r){var t=e("common-jquery:widget/lib/jquery/jquery.js"),i={controller:t("#all-category-e"),categoryList:t("#category-list-e"),arrow:t("#dir-icon-e"),init:function(){var e=this;t(document).mouseover(function(o){var r=t(o.target),i=!!r.closest("#all-category-e").length,a=!!r.closest("#category-list-e").length;i||a?(e.categoryList.slideDown(),e.arrow.addClass("dir-icon-hover")):(e.categoryList.slideUp(),e.arrow.removeClass("dir-icon-hover"))})}};r.exports=i});
;define("common-jquery:widget/js/ui/count-number/count-number.js",function(e,t,i){var r=e("common-jquery:widget/lib/jquery/jquery.js"),n=e("common-jquery:widget/js/ui/base/base.js"),o=n(function(e){var t=this;e.target||console.error("No target element"),e=r.extend({step:5,targetNum:9999,displayNum:0,duration:1500,intervalTimes:25},e||{});var i=e.targetNum,n=e.step,o=e.duration,a=e.intervalTimes;i/n>o/a&&(n=Math.ceil(i*a/o),e.step=n),t.options=e}).extend({init:function(){var e=this,t=e.options,i=t.target;e.timer=setInterval(function(){return t.displayNum>=t.targetNum?(e.close(),void i.html(r.number.comma(t.targetNum,3))):(t.displayNum+=t.step,void i.html(t.displayNum))},t.intervalTimes)},close:function(){var e=this;clearInterval(e.timer)}});i.exports=o});
;define("common-jquery:widget/js/ui/carousel/carousel.js",function(i,t,e){var s=i("common-jquery:widget/lib/jquery/jquery.js"),n=i("common-jquery:widget/js/ui/base/base.js"),a=n().extend({init:function(i){this.options=s.extend({interval:3e3,duration:1e3,items:[],viewSize:1,direction:"horizontal",serviceItem:""},i),this.paused=null,this.sliding=null,this.interval=null,this.activeIndex=0,this.lastActiveIndex=i.items.length},render:function(i){var t=this;if(t.$inner=s("<div/>").addClass("carousel-inner"),s(t.options.items).each(function(i){s("<div/>").addClass("item").html(this).appendTo(t.$inner).attr("index",i)}),t.$items=t.$inner.children(),t.$active=t.$items.slice(0,t.options.viewSize).addClass("active"),t.$misc=s("<div/>").addClass("carousel-misc"),t.options.indicators){for(var e=s("<ol/>").addClass("carousel-indicators").appendTo(t.$misc),n=0;n<t.$items.size();n++)s("<li/>").attr("data-slide-to",n).appendTo(e);e.children().slice(0,t.options.viewSize).addClass("active").first().addClass("first")}t.$indicators=t.$misc.find(".carousel-indicators li"),t.options.controls&&(s("<a/>").addClass("carousel-control carousel-control-left").prependTo(t.$misc),s("<a/>").addClass("carousel-control carousel-control-right").appendTo(t.$misc)),t.target=s(i).append(t.$inner).append(t.$misc).addClass("carousel"),t.initStyle(),t.bindEvents(),t.cycle(),s.isFunction(t.options.render)&&t.options.render.apply(this,arguments)},setup:function(i){this.target=s(i),this.target.size()||(this.target=s("#"+i)),this.target.addClass("carousel"),this.$inner=this.target.find(".carousel-inner"),this.$items=this.$inner.children(),this.$active=this.target.find(".item.active"),this.$active.size()||(this.$active=this.$items.slice(0,this.options.viewSize).addClass("active")),this.$misc=this.target.find(".carousel-misc"),this.$indicators=this.target.find(".carousel-indicators li"),this.initStyle(),this.bindEvents(),this.cycle()},initStyle:function(){var i=this,t="horizontal"==i.options.direction?"width":"height",e="horizontal"==i.options.direction?"left":"top",n="horizontal"==i.options.direction?"top":"left";i.$items.css(t,100/i.options.viewSize+"%").css(n,"0").slice(0,i.options.viewSize).each(function(t,n){s(n).css(e,100*t/i.options.viewSize+"%")})},bindEvents:function(){var i=this;i.target.on("mouseenter",s.proxy(i.pause,i)).on("mouseleave",s.proxy(i.cycle,i)).on("click",".carousel-control-left",function(t){t.preventDefault(),i.prev()}).on("click",".carousel-control-right",function(t){t.preventDefault(),i.next()}).on("click",".carousel-indicators li",function(t){t.preventDefault(),i.to(s(t.currentTarget).data("slide-to"))})},cycle:function(i){return i||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(s.proxy(this.next,this),this.options.interval)),this},pause:function(i){return i||(this.paused=!0),this.interval=clearInterval(this.interval),this},setActiveItems:function(){var i=this.activeIndex;this.$items.removeClass("active"),this.$active=[],this.$indicators.removeClass("active");for(var t=0;t<this.options.viewSize;t++){var e=(i+t)%this.$items.size();this.$active.push(this.$items.get(e)),this.$indicators.eq(e).addClass("active")}return s(this.$active).addClass("active"),this.$active},to:function(i){var t=this,e=t.activeIndex;if(!(i>t.$items.length-1||0>i)){if(t.sliding)return t.once("slid",function(){t.to(i)});if(e==i)return t.pause().cycle();var s=Math.abs(i-e)>1;return t.slide(i>e?"next":"prev",i,s)}},prev:function(){return this.sliding?void 0:this.slide("prev")},next:function(){return this.sliding?void 0:this.slide("next")},getActiveIndex:function(){return this.activeIndex},isSliding:function(){return this.sliding},getLastActiveIndex:function(){return this.lastActiveIndex},slide:function(i,t,e){var n=this,a=n.setActiveItems(),o="horizontal"==n.options.direction?"left":"top",r=n.activeIndex+("next"==i?n.options.viewSize:-1);r=(n.$items.size()+r)%n.$items.size();var c=s(a["next"==i?0:n.options.viewSize-1]),l=n.$items.eq(r);if(n.sliding=!0,n.interval&&n.pause(),n.options.isHome||!l.hasClass("active")){s.isFunction(n.options.beforeSlide)&&n.options.beforeSlide.apply(this,[a]),n.fire("slide",{relatedTarget:l[0],direction:i,index:r}),l.css(o,"next"==i?"100%":-100/n.options.viewSize+"%").addClass("active"),n.lastActiveIndex=n.activeIndex;var d=n.duration;e&&(d=n.duration/n.$items.size());var v=[];s.each(a,function(t){var e="next"==i?-1:1,a={};a[o]=100*(t+e)/n.options.viewSize+"%",v.push(s(this).animate(a,d))});var h={};return h[o]="prev"==i?0:100-100/n.options.viewSize+"%",v.push(l.animate(h,d)),s.when.apply(s,v).done(function(){c.removeClass("active"),n.activeIndex=(n.$items.size()+n.activeIndex+("next"==i?1:-1))%n.$items.size();var a=n.setActiveItems();n.sliding=!1,s.isFunction(n.options.afterSlide)&&n.options.afterSlide.apply(this,[a]),"undefined"!=typeof t&&t!=n.activeIndex?n.slide(i,t,e):setTimeout(function(){n.fire("slide")},0)}),n.cycle(),n}}});e.exports=a});
;define("common-jquery:widget/js/ui/jump-top/jump-top.js",function(o,e,i){{var t=o("common-jquery:widget/lib/jquery/jquery.js");o("common-jquery:widget/js/ui/dialog/dialog.js")}o("common-jquery:widget/lib/jquery.plugins/browser.js");var n=['<div class="jump-top">','<a href="#" target="_self"></a>',"</div>"].join("");i.exports=function(o){function e(e){var n=t(window).scrollTop(),s=(6==t.browser.ie?n:0)+t(window).height()-i.height()-o.offset[0]-110,r=n>t(window).height()/2?"visible":"hidden";i.css("visibility",r),i.animate({top:s+"px"},e||0)}var o=t.extend({offset:[0,0]},o),i=t("<div />").addClass("jump-top-box").css({right:o.offset[1]+5+"px"}).html([n].join("")).appendTo(document.body);i.find(".jump-top a").click(function(o){o.preventDefault(),t(t.browser.ie||t.browser.firefox?document.documentElement:document.body).animate({scrollTop:"0px"},500)});var s;6==t.browser.ie&&i.css("position","absolute"),t(window).on("resize scroll",function(){clearTimeout(s),s=setTimeout(e,200)}),e(1)}});
;define("common-jquery:widget/js/logic/log/log.js",function(e,n,t){function o(e){var n="explog_"+(new Date).getTime(),t=window[n]=new Image;t.onload=t.onerror=function(){window[n]=null},t.src=e,t=null}function r(e){for(var n=e.split(","),t={},o=0;o<n.length;o++){var r=n[o].split(":");t[i.string.trim(r[0])]=i.string.trim(r[1])}return t}var i=e("common-jquery:widget/lib/jquery/jquery.js");e("common-jquery:widget/lib/jquery.plugins/string.js");var a={};t.exports.init=function(e){var n={query:"a",evtType:"mousedown"};for(var o in e)n[o]=e[o];var u=i(n.query);delete n.query,i.extend(a,n),i.each(u,function(e,o){i(o).attr("log")&&i(document).delegate(o,n.evtType,function(){var e=i(o).attr("log"),a=location.href;"a"==o.tagName.toLowerCase()&&(a=encodeURIComponent(o.href)),i.extend(n,r(e));var u=n.type;return delete n.type,t.exports.send(a,u,n),n})})},n.addKey=function(e){i.extend(a,e)},t.exports.send=function(e,n,t){var r="http://nsclick.baidu.com/v.gif?",u="http://kstj.baidu.com/v.gif?",d={pid:180,url:encodeURIComponent(e),type:n,t:(new Date).getTime()};i.extend(d,a),i.extend(d,t);var c=[];return i.each(d,function(e,n){c.push(e+"="+n)}),o(r+c.join("&")),o(u+c.join("&")),e+c.join("&").replace(/&t=\d+/,"")},n.imageReq=o});
;define("common-jquery:widget/js/ui/address/address.js",function(e,n,t){var i=e("common-jquery:widget/lib/jquery/jquery.js");i=window.parent.__$||i;var a=e("common-jquery:widget/js/ui/base/base.js");e("common-jquery:widget/lib/jquery.plugins/string.js"),t.exports=a(function(e){var n=this;if(i.extend(n,{optionTpl:'<option value="#{name}">#{name}</option>',optionDefaultTpl:'<option value="">#{name}</option>',value:{},defaultValue:{},defaultWord:"",filterMap:{},dataCache:null},e),n.filterValue)for(var t=0,a=n.filterValue.length;a>t;t++)n.filterMap[n.filterValue[t]]=!0}).extend({init:function(e){var n=this;"object"==typeof e&&n._init(e),window.arrCity?(n.dataCache=window.arrCity,n.render()):n.jsonpGbk("http://passport.baidu.com/js/sitedata_bas.js?v=1.1",function(){n.dataCache=window.arrCity,n.render()})},jsonpGbk:function(e,n){document.getElementById(e)&&document.body.removeChild(document.getElementById(e));var t=document.createElement("script");t.charset="gbk",t.id=e,t.type="text/javascript",t.language="javascript",t.onload=function(){var i=t.readyState;if("undefined"==typeof i||"loaded"==i||"complete"==i)try{n()}finally{t.onload=null,document.body.removeChild(document.getElementById(e))}},t.src=e,document.body.appendChild(t)},buildOptions:function(e,n){var t=this;e&&n&&n.length&&(e.empty(),i.each(n,function(n,a){if(!t.filterMap[a.name])if(a.name==t.defaultWord){var o='<option value="">'+a.name+"</option>";i(o).appendTo(e)}else{var o='<option value="'+a.name+'">'+a.name+"</option>";i(o).appendTo(e)}}),e.show())},render:function(){var e,n=this,t=i(n.container[0]),a=i(n.container[1]).hide(),o=i(n.container[2]).hide();t.change(function(){var t=0;t=-1==this.selectedIndex?0:this.selectedIndex,e=n.dataCache[t].sub,a.add(o).hide(),n.buildOptions(a,e),a.trigger("change")}),a.change(function(){var t=0;t=-1==this.selectedIndex?0:this.selectedIndex;var i=e[t].sub;n.buildOptions(o.hide(),i),o.trigger("change")}),n.buildOptions(t,n.dataCache),t.add(a).add(o).change(function(){n.value[this.id]=i(this).val(),this.id==n.container[0]?(n.value[n.container[1]]="",n.value[n.container[2]]=""):this.id==n.container[1]&&(n.value[n.container[2]]=""),n.fire("change")}).each(function(e,t){n.defaultValue[e]&&i(t).val(n.defaultValue[e]).change()}),n.fire("change")}}),i.fn.address=function(e){return this.size()==this.filter("select").size()==3?(e.container=this,(new n).init(e),this):this.each(function(){var t=this,a=t.id||"ik_address"+ ++i.guid,o=["_province","_city","_county"];e.container=[],i.each(o,function(n,o){e.container.push(i("<select>",{id:a+o}).appendTo(t))}),(new n).init(e)})}});
;define("common-jquery:widget/js/logic/address-dialog/address-dialog.js",function(i,s,e){{var t=i("common-jquery:widget/lib/jquery/jquery.js"),d=i("common-jquery:widget/js/ui/dialog/dialog.js");i("common-jquery:widget/js/util/event/event.js")}d=window.parent.__Dialog||d;var n=i("common-jquery:widget/js/ui/address/address.js");i("common-jquery:widget/lib/jquery.plugins/form.js"),i("common-jquery:widget/js/logic/login/login.js"),t=window.parent.__$||t;var o={init:function(i){var s=this;s.options=t.extend({className:"address",subTitle:"请填写收货地址，这件商品就会投向您的怀抱啦~",title:"恭喜恭喜~",url:"/submit/shop?method=fillInAddress",submitParams:{success:!1,BdsToken:F.context("BdsToken")||F.context("BdStoken"),bdstt:F.context("bdstt")}},i||{}),s.getUserAddress(s.render)},addressVisability:function(i){t("#sel-city").show(),t("#con-city").css("visibility",""),t("#lbl-city").css("visibility",""),"none"==t("#sel-district").css("display")?(t("#sel-district").show(),t("#con-district").css("visibility","hidden"),t("#lbl-district").css("visibility","hidden")):i.value["sel-district"]&&(t("#con-district").css("visibility",""),t("#lbl-district").css("visibility",""))},initAddress:function(){var i=this,s={container:["#sel-province","#sel-city","#sel-district"],defaultValue:["北京","海淀区"]},e=new n(s);i.addressVisability(e),e.on("change",function(){i.addressVisability(e)})},getUserAddress:function(i){var s=this;F.context("userAddress",{}),t.post("/ajax/shop/getUserAddress",null,function(e){if(e){var d={};t.each(e.address,function(i,s){d[i]=s}),F.context("userAddress",d),i&&i(s)}},"json")},render:function(i){var s=i,e=s.options.submitParams,n="<h1>"+s.options.title||"恭喜您！</h1>",o=['<div class="dialog-container f-12">','<div class="header">','<span class="close-dialog grid-r">X</span>','<div class="title f-bold">',n,"</div>",s.options.subTitle,"</div>",'<div class="main mt-10">','<form id="addr-form" class="addr-form">','<div class="line">','<label id="lbl-name" for="ipt-name">收件人姓名：</label><input id="ipt-name" name="recipient" value="',F.context("userAddress").recipient,'" />',"</div>",'<div class="line">','<label id="lbl-province" for="sel-province">所在地区：</label>','<div class="select" id="con-province">','<select id="sel-province" data-save="',F.context("userAddress").province,'" name="province"></select>',"</div>",'<div class="select" id="con-city">','<select id="sel-city" name="city" data-save="',F.context("userAddress").city,'"></select>',"</div>",'<div class="select" id="con-district">','<select id="sel-district" name="district" data-save="',F.context("userAddress").district,'"></select>',"</div>","</div>",'<div class="line">','<label id="lbl-address" for="ipt-address">街道地址：</label><input id="ipt-address" name="street" value="',F.context("userAddress").street,'" />',"</div>",'<div class="line">','<label id="lbl-zipcode" for="ipt-zipcode">邮政编码：</label><input id="ipt-zipcode" name="postcode" value="',F.context("userAddress").postcode,'" />',"</div>",'<div class="line">','<label id="lbl-tel" for="ipt-tel">手机号码：</label><input id="ipt-tel" type="tel" name="phone" value="',F.context("userAddress").phone,'" />',"</div>","</form>",'<div class="line">','<a class="submit-btn submit-addr" id="submit-addr">确认提交</a>',"</div>","</div>",'<div class="footer mt-10">','<p class="f-red">请确认您提交的信息正确，提交后不能修改</p>',"<p>如因填写信息错误导致未能收货，责任自负</p>","</div>","</div>"].join(""),l=new d({content:o,autoDispose:!0,width:800,height:430,className:"address-dialog exchange-dialog "+s.options.className,open:function(){t(".close-dialog").on("click",function(i){i.preventDefault(),l.close()}),t("#submit-addr").on("click",function(i){i.preventDefault();var n=t.form.json("#addr-form"),o=!1;return t.each(n,function(i,s){o||""!=s||(o=!0)}),o?void d.notice("全部都是必填项噢~"):(e=t.extend(e,n),void s.submit(e))}),s.initAddress()}})},submit:function(i){var s=this;t.post(s.options.url,i,function(e){if(d.close(),s.options.onSubmit&&t.isFunction(s.options.onSubmit))return void s.options.onSubmit(e);if(e.errno){var n="网络异常，请稍后重试~";switch(e.errno){case 702:n="提交参数有误，请联系小寻";break;case 2045:n="非兑奖时间~";break;case 2044:n="亲，财富值不够呀，再努力努力吧~"}d.notice(n)}else i.success?window.location.reload():d.notice("活动结束后我们将尽快联系您，请耐心等待～",{width:330})},"json")}};e.exports=o});
;define("common-jquery:widget/js/ui/lazy-loader/base.js",function(t,o,e){var i=t("common-jquery:widget/lib/jquery/jquery.js"),n=window,r=document,s="defalut",a={diff:300,isValidContainer:function(t){return 9!=t.nodeType},inDocument:function(t){return i(r.body).find("."+t).length>0?1:0},isCross:function(t,o){var e={};return e.top=Math.max(parseFloat(t.top),parseFloat(o.top)),e.bottom=Math.min(parseFloat(t.bottom),parseFloat(o.bottom)),e.left=Math.max(parseFloat(t.left),parseFloat(o.left)),e.right=Math.min(parseFloat(t.right),parseFloat(o.right)),e.bottom>=e.top&&e.right>=e.left},isWindow:function(t){return!!t.window&&t.window===t.window.window},getBoundingRect:function(t){var o,e,r,a,f=this;if(t=i(t),void 0===t||f.isWindow(t)||9==t.nodeType)o=i(n).height(),e=i(n).width(),r=i(n).scrollLeft(),a=i(n).scrollTop();else{o=t.outerHeight(),e=t.outerWidth();var l=i(t).offset();r=l.left,a=l.top}var d=this.diff,u=d===s?e:d,h=0,p=u,c=d===s?o:d,g=0,m=c,w=r+e,b=a+o;return"object"==typeof d&&(h=d.left||0,p=d.right||0,g=d.top||0,m=d.bottom||0),r-=h,w+=p,a-=g,b+=m,{left:r,top:a,right:w,bottom:b}},checkElemInViewport:function(t,o){var e,n,r=this,s=i(t).offset(),a=!0,f=null,l=r.getBoundingRect(o),d=s.left,u=s.top,h={left:d,top:u,right:d+t.offsetWidth,bottom:u+t.offsetHeight};return f&&(n=r.getBoundingRect(f),a=r.isCross(n,h)),e=r.isCross(l,h),a&&e}};e.exports=a});
;define("common-jquery:widget/js/ui/lazy-loader/lazy-loader.js",function(t,e,i){var n=t("common-jquery:widget/lib/jquery/jquery.js"),o=t("common-jquery:widget/js/ui/lazy-loader/base.js"),a=t("common-jquery:widget/js/ui/base/base.js");i.exports=a(function(t){var e=this;e.win=window,e.doc=document,e.SCROLL="scroll",e.TOUCH_MOVE="touchmove",e.IMG_SRC_DATA="data-src",e.RESIZE="resize",e.DURATION=100,e.option={imgCls:"lazy-load-img",autoDestroy:!0,isCheckAttr:"data-is-check",imgAttr:["width","height","style"]};var i=t.container?n("#"+t.container):doc;e.containers=n.makeArray(i),n.extend(e.option,t||{}),e.imageEls=[],e.remainEls=[]}).extend({init:function(){var t=this;t.filterItems(),0!==t.getItemsLength()&&t.initLoadEvent()},filterItems:function(){var t=this;t.imageEls=n.makeArray(n("."+t.option.imgCls))},getItemsLength:function(){var t=this;return t.imageEls.length},initLoadEvent:function(){var t=this,e=t.option.autoDestroy,i=function(){t.loadItems(),e&&0===t.getItemsLength()&&t.destroy()},o=function(){setTimeout(i,t.DURATION)};n(t.win).on(t.SCROLL,o),n(t.win).on(t.TOUCH_MOVE,o),n(t.win).on(t.RESIZE,o),t.loadFn=o,t.getItemsLength()&&n(t.doc).ready(i)},loadItems:function(){var t=this;t.imageEls.filter(t.loadImg,t)},loadImg:function(t){var e=this,i=e.IMG_SRC_DATA,a=n(t).attr(i);if(!a)return!1;if(o.inDocument(n(t).attr("class"))){if(!o.checkElemInViewport(t,e.containers))return!0;e.loadImgSrc(t,a)}else;},loadImgSrc:function(t,e){var i=this,o=i.IMG_SRC_DATA;e&&t.src!=e&&(t.onload=function(){var e=n(this),o=e.attr("src");if(!o.match(/exp_loading\.gif/i)){if(e.attr(i.option.isCheckAttr))for(var a=null,r=i.option.imgAttr,s=r.length-1;s>=0;s--)a=e.attr("data-"+r[s]),a&&(e.attr(r[s],a),e.removeAttribute("data-"+r[s]),a=null);n(t).removeClass(i.option.imgCls),e.onload=null}},t.src=e,n(t).hide(),n(t).fadeIn(1e3),t.removeAttribute(o))},destroy:function(){var t=this,e=t.loadFn;n(t.win).unbind(t.SCROLL,e),n(t.win).unbind(t.TOUCH_MOVE,e),n(t.win).unbind(t.RESIZE,e)}})});